(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1003:function(m,p,_){"use strict";_.d(p,"b",function(){return l}),_.d(p,"c",function(){return n}),_.d(p,"a",function(){return o});var u=_(2),h=_.n(u),O=_(17);const r={visibleColumns:"tableOptions.visibleColumns",canSelectItems:"tableOptions.canSelectItems",itemSelectionLimit:"tableOptions.itemSelectionLimit",isSelectAllAvailable:"tableOptions.isSelectAllAvailable",visibleFilters:"tableOptions.visibleFilters",isUsingInfiniteScroll:"tableOptions.isUsingInfiniteScroll",excludedSites:"tableOptions.excludedSites",fetchFromCatalogSite:"tableOptions.fetchFromCatalogSite",isSearchingVisible:"tableOptions.isSearchingVisible",fetchOnCreation:"tableOptions.fetchOnCreation",preSelectedItems:"tableOptions.preSelectedItems",itemIdKey:"tableOptions.itemIdKey",backgroundAppliedFilters:"tableOptions.backgroundAppliedFilters",externallyAppliedFilters:"initialValues.filters",externalSearch:"initialValues.search",externalSort:"initialValues.sort",defaultSort:"initialValues.sort",itemTableLocation:"tableOptions.itemsTableLocation",itemsTableStickyHeader:"tableOptions.itemsTableStickyHeader",hideFilterTags:"tableOptions.hideFilterTags",isAllSelectedInitially:"tableOptions.selectAllInitially",infiniteScrollSelectAllThreshold:"tableOptions.infiniteScrollSelectAllThreshold"},c={itemsSelectedTotal:"totalItemsSelected",itemsTotal:"totalItemCount",filters:"filters",search:"search",excludedIds:"excludedIds",ids:"ids"};function l(b,f){if(!b)return{};const d=Object.entries(Object(u.cloneDeep)(b)).reduce((g,[j,C])=>{const x=r[j];if(!x)return g;if((x==="tableOptions.visibleColumns"||x==="tableOptions.visibleFilters")&&(C=Object.entries(C).reduce((w,[R,F])=>(w[Object(u.camelCase)(R)]=F,w),{})),x==="initialValues.sort"){if(!(C==null?void 0:C.column))return g;C.column=Object(u.camelCase)(C.column)}return x==="tableOptions.preSelectedItems"&&(C=C.map(w=>w[b.itemIdKey||"id"])),Object(u.set)(g,x,C),g},{});return Object(u.merge)(d,Object(u.cloneDeep)(f))}function n(b){return Object.entries(Object(u.cloneDeep)(b)).reduce((f,[d,g])=>{const j=c[d];return j&&Object(u.set)(f,j,g),f},{})}function o(b){const f=Object(u.cloneDeep)(b),d={};return(f==null?void 0:f.sort_column)&&(d["event-tracking:sort"]=g=>Object(O.F)(Object.assign(f.sort_column,{value:g}))),(f==null?void 0:f.view_selections_will_be_cleared_popup)&&(d["event-tracking:clear-selections-to-select-all-alert:show"]=()=>Object(O.F)(f.view_selections_will_be_cleared_popup)),(f==null?void 0:f.clear_selections_to_select_all)&&(d["event-tracking:clear-selections-to-select-all-alert:cancel"]=()=>Object(O.F)(Object.assign(f.clear_selections_to_select_all,{value:"cancel"}))),(f==null?void 0:f.clear_selections_to_select_all)&&(d["event-tracking:clear-selections-to-select-all-alert:proceed"]=()=>Object(O.F)(Object.assign(f.clear_selections_to_select_all,{value:"continue"}))),(f==null?void 0:f.update_filters)&&(d["event-tracking:filter"]=g=>Object(O.F)(Object.assign(f.update_filters,{value:JSON.stringify(g)}))),d}},1062:function(m,p,_){"use strict";var u=function(){var M=this,D=M.$createElement,B=M._self._c||D;return B("items-table",M._g(M._b({attrs:{"user-id":M.userId,"selected-site-id":M.selectedSiteId,"catalog-site-id":M.catalogSiteId,"user-locale":M.userLocale},on:{"select-all:toggle":function(X){return M.$emit("select-all:toggle")},"row:checked":function(X){return M.$emit("row:checked",X)},"selection-data:change":M.onSelectionDataChange}},"items-table",M.ecomCatalogComponentsItemsTableProps,!1),M.eventTrackingListeners))},h=[],O=_(16),r=_(30),c=_(11),l=_(1048),n=_(1049),o=_(1003),b=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,x=(M,D,B)=>D in M?b(M,D,{enumerable:!0,configurable:!0,writable:!0,value:B}):M[D]=B,w=(M,D)=>{for(var B in D||(D={}))j.call(D,B)&&x(M,B,D[B]);if(g)for(var B of g(D))C.call(D,B)&&x(M,B,D[B]);return M},R=(M,D)=>f(M,d(D)),F={name:"ItemsSelector",components:{ItemsTable:l.a},props:{visibleColumns:{type:Object,default:O.db},canSelectItems:{type:Boolean,default:!0},itemSelectionLimit:{type:Number,default:NaN},isSelectAllAvailable:{type:Boolean,default:!1},visibleFilters:{type:Object,default:O.ab},defaultSort:{type:Object,default:O.cb},isUsingInfiniteScroll:{type:Boolean,default:!0},excludedSites:{type:Array,default:()=>[]},fetchFromCatalogSite:{type:Boolean,default:!1},isSearchingVisible:{type:Boolean,default:!0},fetchOnCreation:{type:Boolean,default:!0},initialItems:{type:Array,default:()=>[]},preSelectedItems:{type:Array,default:()=>[]},itemIdKey:{type:String,default:"id"},eventsToTrack:{type:Object,default:()=>({})},backgroundAppliedFilters:{type:Object,default:()=>({})},externallyAppliedFilters:{type:Object,default:O.ab},externalSearch:{type:String,default:""},externalSort:{type:Object,default:()=>({})},itemTableLocation:{type:String,default:""},itemsTableStickyHeader:{type:Boolean,default:!1},hideFilterTags:{type:Boolean,default:!1},isAllSelectedInitially:{type:Boolean,default:!1},infiniteScrollSelectAllThreshold:{type:Number,default:10}},computed:R(w(w(w({},Object(r.mapState)(["userId"])),Object(r.mapGetters)(["selectedSiteId","catalogSiteId"])),Object(r.mapGetters)(c.H,{userLocale:"getLocale"})),{legacyItemsTableProps(){return{canSelectItems:this.canSelectItems,isUsingInfiniteScroll:this.isUsingInfiniteScroll,visibleColumns:this.visibleColumns,itemSelectionLimit:this.itemSelectionLimit,isSelectAllAvailable:this.isSelectAllAvailable,visibleFilters:this.visibleFilters,defaultSort:this.defaultSort,excludedSites:this.excludedSites,fetchFromCatalogSite:this.fetchFromCatalogSite,fetchOnCreation:this.fetchOnCreation,initialItems:this.initialItems,preSelectedItems:this.preSelectedItems,itemIdKey:this.itemIdKey,eventsToTrack:this.eventsToTrack,backgroundAppliedFilters:this.backgroundAppliedFilters,externallyAppliedFilters:this.externallyAppliedFilters,externalSearch:this.externalSearch,externalSort:this.externalSort,itemTableLocation:this.itemTableLocation,itemsTableStickyHeader:this.itemsTableStickyHeader,isSearchingVisible:this.isSearchingVisible,hideFilterTags:this.hideFilterTags,isAllSelectedInitially:this.isAllSelectedInitially,infiniteScrollSelectAllThreshold:this.infiniteScrollSelectAllThreshold}},ecomCatalogComponentsItemsTableProps(){return Object(o.b)(this.legacyItemsTableProps)},eventTrackingListeners(){return Object(o.a)(this.eventsToTrack)}}),methods:{onSelectionDataChange(M){this.$emit("selection-data:update",Object(o.c)(M))}}},P=F,A=_(20),T=Object(A.a)(P,u,h,!1,null,null,null),re=p.a=T.exports},1071:function(m,p,_){"use strict";_.d(p,"a",function(){return u}),_.d(p,"b",function(){return h});const u="modal",h="sheet"},1148:function(m,p,_){},1319:function(m,p,_){"use strict";_.d(p,"a",function(){return d});var u=function(){var g=this,j=g.$createElement,C=g._self._c||j;return C("div",{staticClass:"action-item",on:{click:function(x){return x.stopPropagation(),g.onToggleChange.apply(null,arguments)}}},[C("o-loading",{directives:[{name:"show",rawName:"v-show",value:g.isWorking,expression:"isWorking"}],staticClass:"loader",attrs:{variant:"spinner"}}),g._v(" "),g.leftLabel?C("span",{staticClass:"action-item__text"},[g._v(`
		`+g._s(g.label)+`
	`)]):g._e(),g._v(" "),C("o-toggle",{attrs:{disabled:g.disabled||g.isWorking,checked:g.checked,sublabel:g.sublabel},on:{click:function(x){x.stopPropagation(),x.preventDefault()}}},[g.leftLabel?g._e():C("div",[g._v(`
			`+g._s(g.label)+`
		`)])])],1)},h=[],O=_(201),r=_(69),c=(g,j,C)=>new Promise((x,w)=>{var R=A=>{try{P(C.next(A))}catch(T){w(T)}},F=A=>{try{P(C.throw(A))}catch(T){w(T)}},P=A=>A.done?x(A.value):Promise.resolve(A.value).then(R,F);P((C=C.apply(g,j)).next())}),l={components:{OToggle:O.OToggle,OLoading:r.OLoading},props:{checked:{type:Boolean,default:!1},label:{type:String,default:""},sublabel:{type:String,default:""},disabled:{type:Boolean,default:!1},onChange:{type:Function,default:()=>null},leftLabel:{type:Boolean,default:!1}},data(){return{isWorking:!1}},methods:{onToggleChange(){return c(this,null,function*(){this.isWorking=!0;try{this.onChange&&!this.disabled&&(yield this.onChange())}finally{this.isWorking=!1}})}}},n=l,o=_(1337),b=_(20),f=Object(b.a)(n,u,h,!1,null,"190f528a",null),d=f.exports},1337:function(m,p,_){"use strict";var u=_(1148),h=_.n(u)},1497:function(m,p,_){},1498:function(m,p,_){},1499:function(m,p,_){},1500:function(m,p,_){},1501:function(m,p,_){},1502:function(m,p,_){},1503:function(m,p,_){},1504:function(m,p,_){},1505:function(m,p,_){},1506:function(m,p,_){},1507:function(m,p,_){},1508:function(m,p,_){},1509:function(m,p,_){},1510:function(m,p,_){},1511:function(m,p,_){},1512:function(m,p,_){},1513:function(m,p,_){},1514:function(m,p,_){},1515:function(m,p,_){},1516:function(m,p,_){},1517:function(m,p,_){},1518:function(m,p,_){},1519:function(m,p,_){},1520:function(m,p,_){},1521:function(m,p,_){},1522:function(m,p,_){},1523:function(m,p,_){},1524:function(m,p,_){},1525:function(m,p,_){},1526:function(m,p,_){},1527:function(m,p,_){},1528:function(m,p,_){},1529:function(m,p,_){},1530:function(m,p,_){},1531:function(m,p,_){},1532:function(m,p,_){},1533:function(m,p,_){},1534:function(m,p,_){},1535:function(m,p,_){},1536:function(m,p,_){},1537:function(m,p,_){},1538:function(m,p,_){},1801:function(m,p,_){"use strict";var u=_(1497),h=_.n(u)},1802:function(m,p,_){"use strict";var u=_(1498),h=_.n(u)},1803:function(m,p,_){"use strict";var u=_(1499),h=_.n(u)},1804:function(m,p,_){"use strict";var u=_(1500),h=_.n(u)},1805:function(m,p,_){"use strict";var u=_(1501),h=_.n(u)},1806:function(m,p,_){"use strict";var u=_(1502),h=_.n(u)},1807:function(m,p,_){"use strict";var u=_(1503),h=_.n(u)},1808:function(m,p,_){"use strict";var u=_(1504),h=_.n(u)},1809:function(m,p,_){"use strict";var u=_(1505),h=_.n(u)},1810:function(m,p,_){"use strict";var u=_(1506),h=_.n(u)},1811:function(m,p,_){"use strict";var u=_(1507),h=_.n(u)},1812:function(m,p,_){"use strict";var u=_(1508),h=_.n(u)},1813:function(m,p,_){"use strict";var u=_(1509),h=_.n(u)},1814:function(m,p,_){"use strict";var u=_(1510),h=_.n(u)},1815:function(m,p,_){"use strict";var u=_(1511),h=_.n(u)},1816:function(m,p,_){"use strict";var u=_(1512),h=_.n(u)},1817:function(m,p,_){"use strict";var u=_(1513),h=_.n(u)},1818:function(m,p,_){"use strict";var u=_(1514),h=_.n(u)},1819:function(m,p,_){"use strict";var u=_(1515),h=_.n(u)},1820:function(m,p,_){"use strict";var u=_(1516),h=_.n(u)},1821:function(m,p,_){"use strict";var u=_(1517),h=_.n(u)},1822:function(m,p,_){"use strict";var u=_(1518),h=_.n(u)},1823:function(m,p,_){"use strict";var u=_(1519),h=_.n(u)},1824:function(m,p,_){"use strict";var u=_(1520),h=_.n(u)},1825:function(m,p,_){"use strict";var u=_(1521),h=_.n(u)},1826:function(m,p,_){"use strict";var u=_(1522),h=_.n(u)},1827:function(m,p,_){"use strict";var u=_(1523),h=_.n(u)},1828:function(m,p,_){"use strict";var u=_(1524),h=_.n(u)},1829:function(m,p,_){"use strict";var u=_(1525),h=_.n(u)},1830:function(m,p,_){"use strict";var u=_(1526),h=_.n(u)},1831:function(m,p,_){"use strict";var u=_(1527),h=_.n(u)},1832:function(m,p,_){"use strict";var u=_(1528),h=_.n(u)},1833:function(m,p,_){"use strict";var u=_(1529),h=_.n(u)},1834:function(m,p,_){"use strict";var u=_(1530),h=_.n(u)},1835:function(m,p,_){"use strict";var u=_(1531),h=_.n(u)},1836:function(m,p,_){"use strict";var u=_(1532),h=_.n(u)},1837:function(m,p,_){"use strict";var u=_(1533),h=_.n(u)},1838:function(m,p,_){"use strict";var u=_(1534),h=_.n(u)},1839:function(m,p,_){"use strict";var u=_(1535),h=_.n(u)},1840:function(m,p,_){"use strict";var u=_(1536),h=_.n(u)},1841:function(m,p,_){"use strict";var u=_(1537),h=_.n(u)},1842:function(m,p,_){"use strict";var u=_(1538),h=_.n(u)},2098:function(m,p,_){"use strict";_.r(p);var u=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showPaidFeatureState&&!e.isLoading?t("spring-page",{staticClass:"sso-upgrade"},[t("sso-upgrade-view",{attrs:{id:"dine-in-upgrade-view",addresses:e.addresses},on:{"dine-in-wizard-complete":e.fetchDineInLocations}})],1):t("spring-page",{staticClass:"dine-in-page",attrs:{title:e.pageTitle}},[e.hasSelfServeOrderingFeature?t("div",{attrs:{slot:"description"},slot:"description"},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.page_description"))+`
		`),e.shouldShowZeroState?e._e():t("span",{staticClass:"instructions-link",on:{click:e.showSSOInstructionsModal}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.how_does_it_work"))+`
		`)]),e._v(" "),t("br"),e._v(" "),t("a",{attrs:{href:"https://squareup.com/help/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online",target:"_blank",rel:"noopener noreferrer"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.learn_more_link"))+` >
		`)])]):t("sso-upgrade-zero-state",{scopedSlots:e._u([{key:"additional-content",fn:function(){return[t("upgrade-button",{attrs:{"feature-id":"self_serve_ordering",location:"sso","site-id":e.siteId,"cta-text":e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_btn_cta")}})]},proxy:!0}],null,!1,1342039067)}),e._v(" "),e.isLoading?e._e():[e.isSitePublished?e._e():t("o-notice",{staticClass:"mb-2",attrs:{type:"warning",dismissible:"","dismissible-text":e._f("utl")("ecommerce.settings.dine_in.go_to_editor")},on:{dismiss:e.onGoToWebsite}},[e._v(`
			`+e._s(e.publishSiteNoticeText)+`
		`)]),e._v(" "),t("div",[e.hasAlcoholItemsNotice?t("o-notice",{staticClass:"mb-3",attrs:{dismissible:""},on:{dismiss:e.onAlcoholItemsDismiss}},[t("span",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_items_notice")))]),e._v(" "),t("a",{attrs:{href:e.ROUTE_PRODUCTS}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_items_notice_cta"))+`
				`)])]):e._e()],1),e._v(" "),e.shouldShowZeroState?t("dine-in-zero-state"):e._e(),e._v(" "),e.shouldShowCanvaBanner?t("canva-banner",{on:{"click:try-canva":e.showCanvaModal}}):e._e(),e._v(" "),t("location-list",{attrs:{addresses:e.addresses}})],e._v(" "),e.isLoading?t("content-loading"):e._e()],2)},h=[],O=_(60),r=_(11),c=_(62),l=_(8),n=_(1),o=_(30),b=_(147),f=_(41),d=_(17),g=_(126),j=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e._l(e.addresses,function(i){return t("location-list-item",e._g({key:i.id,attrs:{address:i,simple:e.simpleList,"on-location-clicked-callback":e.onLocationClick}},e.$listeners))}),e._v(" "),e.itemsTotal>e.itemsPerPage?t("div",{staticClass:"pagination"},[t("o-button-group",{attrs:{mode:"single-select"},model:{value:e.itemsPerPage,callback:function(i){e.itemsPerPage=i},expression:"itemsPerPage"}},e._l(e.itemsPerPageOptions,function(i){var v=i.value,E=i.label;return t("o-button-group-item",{key:v,attrs:{value:v}},[e._v(`
				`+e._s(E)+`
			`)])}),1),e._v(" "),t("o-pagination",{attrs:{pages:e.numPages,selectable:""},model:{value:e.currentPage,callback:function(i){e.currentPage=i},expression:"currentPage"}})],1):e._e(),e._v(" "),e.isLoading?t("content-loading"):e._e()],2)},C=[],x=_(373),w=_(517),R=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"location-list-item",class:{active:e.isActive,simple:e.simple},on:{click:e.onLocationClicked}},[t("div",{staticClass:"content-container"},[t("div",{staticClass:"content"},[t("o-heading",{attrs:{size:"title-2"}},[e._v(`
					`+e._s(e._f("formatAddressName")(e.address))+`
				`)]),e._v(" "),e.isAddressEmpty?e._e():t("address-display",{attrs:{address:e.address,"is-multi-line":!1}}),e._v(" "),t("div",[e._v(e._s(e._f("formatPhoneNumber")(e.address.phone)))])],1),e._v(" "),e.simple?t("div",{staticClass:"actions-container simple"},[t("o-icon",{attrs:{name:"arrow-right"}})],1):t("div",{staticClass:"actions-container"},[e.isActive?[t("o-button",{attrs:{"data-testid":"export-qrcodes-btn",variant:"secondary",disabled:!e.isSitePublished||e.exportDisabled},on:{click:function(i){return i.stopPropagation(),e.onGetQRCodesClick()}}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.get_qr_code"))+`
					`)]),e._v(" "),t("o-button",{attrs:{"data-testid":"export-qrcodes-btn",variant:"secondary",disabled:!e.isSitePublished},on:{click:e.onExportBtnClicked}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.edit_action"))+`
					`)])]:[t("o-button",{directives:[{name:"hovertip",rawName:"v-hovertip",value:e.setupHovertip,expression:"setupHovertip"}],attrs:{id:"setup-qr-codes","data-testid":"setup-qr-codes",variant:"secondary",disabled:!e.address.isValid||!e.locationCanEnableSSO},on:{click:e.openDineInSetupWizard}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.set_up_qr_codes"))+`
					`)])]],2)]),e._v(" "),t("div",{staticClass:"notice-container"},[e.isAddressEmpty?t("o-notice",{staticClass:"mt-2",attrs:{type:"warning"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.missing_address_notice_text"))+`
				`),t("o-button",{staticClass:"align-right",attrs:{variant:"text"},on:{click:e.onEditAddress}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.pickup_and_delivery.missing_address_button_text"))+`
				`)])],1):e.address.isValid?e._e():t("o-notice",{staticClass:"mt-2",attrs:{type:"warning"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.invalid_address_notice_text"))+`
				`),t("o-button",{staticClass:"align-right",attrs:{variant:"text"},on:{click:e.onEditAddress}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.pickup_and_delivery.invalid_address_confirm_button_text"))+`
				`)])],1),e._v(" "),e.hasQrCodeError?t("o-notice",{staticClass:"mt-2",attrs:{type:"warning"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.default_error"))+`
			`)]):e._e(),e._v(" "),e.isActive&&!e.simple?[t("div",{staticClass:"toggle-wrapper"},[t("async-toggle",{directives:[{name:"hovertip",rawName:"v-hovertip",value:e.toggleHovertip,expression:"toggleHovertip"}],attrs:{"data-testid":"dinein-toggle","on-change":e.onToggleDineIn,label:e._f("utl")("ecommerce.settings.dine_in.dine_in_toggle_label"),checked:e.isDineInEnabled,disabled:!e.locationCanEnableSSO}})],1)]:e._e()],2)])])},F=[],P=_(2),A=_(100),T=_(31),re=_(350),M=_(34),D=_(70),B=_(179),X=_(356),Ts=_(887),Ms=_(237),k=_(110),As=_(1319),Ds=_(146),Bs=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-blade",{ref:"dineInSettingsBlade",attrs:{title:e.title,backdrop:!0}},[t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.previewQrCode}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.preview_qr_code"))+`
		`)])],1),e._v(" "),e.canUseSSOBusinessHours?t("div",[t("dine-in-blade-section",{staticClass:"dine-in-hours-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.business_hours")},on:{"edit:click":e.onEditBusinessHoursClick}},[t("time-range-week-readonly",{attrs:{"hours-by-day":e.businessHours}})],1),e._v(" "),t("o-divider")],1):e._e(),e._v(" "),t("dine-in-blade-section",{staticClass:"dine-in-stations-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.ordering_cards_label")},on:{"edit:click":e.onEditStationGroupClick}},e._l(e.seatGroups,function(i,v){return t("dine-in-blade-setting-row",{key:v,attrs:{label:i.name,value:e.seatGroupCopy(i)}})}),1),e._v(" "),t("o-divider"),e._v(" "),t("dine-in-blade-section",{staticClass:"dine-in-messaging-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.sso_messaging")},on:{"edit:click":e.onEditBannerClick}},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_messaging_subtext"))+`
	`)]),e._v(" "),t("o-divider"),e._v(" "),e.canUseSSOSMSPickupAlerts?t("dine-in-blade-section",{staticClass:"dine-in-sms-alert-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.blade_sms_alert_settings_title")},on:{"edit:click":e.onTextMessageAlertEditClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.blade_sms_alert_settings_order_received_label"),value:e.smsOrderReceivedText}}),e._v(" "),t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.blade_sms_alert_settings_order_ready_label"),value:e.smsOrderPreparedText}})],1):e._e(),e._v(" "),e.canUseSSOSMSPickupAlerts?t("o-divider"):e._e(),e._v(" "),t("dine-in-blade-section",{staticClass:"dine-in-stations-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.wizard_settings_step_title"),"hide-header-slot":!0}},[e.hasAccessToOpenTabs?t("dine-in-blade-subsection",{staticClass:"open-tabs-subsection",attrs:{"hide-header-slot":!0}},[t("div",{staticClass:"open-tab-options"},[t("div",{staticClass:"open-tab-labels"},[t("p",{staticClass:"open-tabs-header"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_label"))+`
					`)]),e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_description"))+`
				`)]),e._v(" "),t("o-toggle",{attrs:{checked:e.shouldAllowOpenTabOrders,disabled:e.isOpenTabsSaving},on:{"toggle:update":e.onOpenTabToggleChange}})],1)]):e._e(),e._v(" "),e.showOrderConsolidation?t("dine-in-blade-subsection",{staticClass:"open-tabs-subsection",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_title")},on:{"edit:click":e.onEditTicketSettingsClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_label"),value:e.ticketTimingStatus}})],1):e._e(),e._v(" "),t("dine-in-blade-subsection",{staticClass:"alcohol-subsection",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_title")},on:{"edit:click":e.onEditAlcoholSettingsClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_serving_alcohol_label"),value:e.servingAlcoholStatus}}),e._v(" "),t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_alcohol_limit_label"),value:e.servingAlcoholLimit}})],1),e._v(" "),t("dine-in-blade-subsection",{staticClass:"alcohol-subsection",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_title")},on:{"edit:click":e.onEditServiceFeeClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.service_fee_amount"),value:e.serviceFee}})],1)],1)],2)},Rs=[],ks=_(87),Oe=_(101),Q=_(201),Fs=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"readonly-hours-wrapper"},e._l(e.dayOfWeekKeys,function(i){return t("time-range-day-readonly",{key:i,attrs:{"day-key":i,"time-ranges":e.hoursByDay[i]}})}),1)},Us=[],U=_(85),Gs=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"time-range-day-row"},[t("b",{staticClass:"day-label"},[e._v(e._s(e.dayLabel))]),e._v(" "),t("div",{staticClass:"time-ranges-column"},[e._l(e.timeRanges,function(i,v){return t("span",{key:v},[e._v(`
			`+e._s(e.mapOpenCloseHoursString(i))+`
		`)])}),e._v(" "),e.timeRanges.length===0?t("span",[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.none"))+`
		`)]):e._e()],2)])},Ns=[],je=_(103),$s={name:"TimeRangeDayReadonly",props:{dayKey:{type:String,required:!0},timeRanges:{type:Array,required:!0,validator:e=>e.length===0?!0:e.every(s=>Object(P.has)(s,"open")&&Object(P.has)(s,"close"))}},computed:{dayLabel(){return U.b[this.dayKey]}},methods:{mapOpenCloseHoursString(e){const s=Object(je.b)(e.open.substring(0,5)),t=Object(je.b)(e.close.substring(0,5));return`${s} - ${t}`}}},Hs=$s,Tc=_(1801),I=_(20),Ws=Object(I.a)(Hs,Gs,Ns,!1,null,"0f08e82b",null),zs=Ws.exports;const Vs={[U.a[0]]:[{open:"09:00:00",close:"17:00:00"}],[U.a[1]]:[{open:"09:00:00",close:"17:00:00"}],[U.a[2]]:[{open:"09:00:00",close:"17:00:00"}],[U.a[3]]:[{open:"09:00:00",close:"17:00:00"}],[U.a[4]]:[{open:"09:00:00",close:"17:00:00"}],[U.a[5]]:[{open:"09:00:00",close:"17:00:00"}],[U.a[6]]:[{open:"09:00:00",close:"17:00:00"}]};var Ks={name:"TimeRangeWeekReadonly",components:{TimeRangeDayReadonly:zs},props:{hoursByDay:{type:Object,required:!1,default:()=>Vs}},data(){return{dayOfWeekKeys:U.a}}},Qs=Ks,Zs=Object(I.a)(Qs,Fs,Us,!1,null,null,null),qs=Zs.exports;const Ys=["SUN","MON","TUE","WED","THU","FRI","SAT"],Pe=e=>{const{periods:s=[],timezone:t=null}=JSON.parse(e),i={};return Ys.forEach(v=>{i[v]=[]}),s.forEach(v=>{i[v.day_of_week].push({open:v.start_local_time,close:v.end_local_time})}),{hours:i,timezone:t}},Mc="delivery",Ce=2e3,Ee=1100,Xs=100,W={NONE:1,FLAT:2,PERCENTAGE:3},Js=200,e_=100,t_=100,s_=500,__=500,n_=500,ae=0,Ie=1,i_=2,de=Object(n.utl)("ecommerce.settings.dine_in.menu_banner_default"),ce=Object(n.utl)("ecommerce.settings.dine_in.checkout_banner_default"),xe=Object(n.utl)("ecommerce.settings.dine_in.resumption_banner_default"),Le="https://squareup.com/help/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online",we=1e8,Te={name:Object(n.utl)("ecommerce.settings.dine_in.default_station_name"),has_station_group_names:!0,numbering_starts_at:1,seat_label:Object(n.utl)("ecommerce.settings.dine_in.default_station_label")},Me=10,r_="PICKUP",a_="DELIVERY",o_="SELF_SERVE",l_="SQ_BUSINESS_HOURS",Z="America/Los_Angeles",J={[r_]:{translation:Object(n.utl)("ecommerce.settings.dine_in.pickup_hours"),getHoursFromLocation:e=>e.pickup_hours,getTimeZoneFromLocation:e=>e.pickup_timezone||Z},[a_]:{translation:Object(n.utl)("ecommerce.settings.dine_in.delivery_hours"),getHoursFromLocation:e=>e.delivery_hours,getTimeZoneFromLocation:e=>e.pickup_timezone||Z},[o_]:{translation:Object(n.utl)("ecommerce.settings.dine_in.self_serve_hours"),getHoursFromLocation(e){return e.dine_in_settings?e.dine_in_settings.business_hours:null},getTimeZoneFromLocation(e){return e.dine_in_settings?e.dine_in_settings.timezone:Z}},[l_]:{translation:Object(n.utl)("ecommerce.settings.dine_in.sq_business_hours"),getHoursFromLocation(e){return e.square_business_hours?Pe(e.square_business_hours).hours:null},getTimeZoneFromLocation(e){return e.square_business_hours&&Pe(e.square_business_hours).timezone||Z}}};var d_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({attrs:{title:e._f("utl")("ecommerce.settings.dine_in.set_business_hours"),backdrop:"","content-width":"large"},scopedSlots:e._u([{key:"actions",fn:function(i){return[t("o-button",{attrs:{variant:"primary",disabled:e.disableSaveButton},on:{click:function(v){return e.submit(i)}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.done"))+`
		`)])]}}])},e.$listeners),[e._v(" "),t("business-hours-form",{attrs:{hours:e.hours,timezone:e.timezone,"current-location-id":e.location.pickupLocationId},on:{"update:hours":e.updateHours,"update:timezone":e.updateTimezone}})],1)},c_=[],u_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",[t("p",{staticClass:"subline"},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.business_hours_description"))+`
	`)]),e._v(" "),e.displayLocationsToSeedFrom?t("div",{staticClass:"import-hours-section"},[t("p",{staticClass:"label"},[e._v(`
			`+e._s(e.importHoursLabel)+`
		`)]),e._v(" "),t("div",{staticClass:"select-wrapper"},[e.hasMoreThanOneLocation?t("o-select",{staticClass:"select-location-dropdown",attrs:{options:e.locationSelectOptions},on:{"select:update":e.selectLocation},model:{value:e.selectedLocationId,callback:function(i){e.selectedLocationId=i},expression:"selectedLocationId"}}):e._e(),e._v(" "),e.selectedLocation?t("o-select",{staticClass:"select-hours-dropdown",attrs:{options:e.hourTypeSelectOptions},on:{"select:update":e.seedHours},model:{value:e.selectedHoursType,callback:function(i){e.selectedHoursType=i},expression:"selectedHoursType"}}):e._e()],1)]):e._e(),e._v(" "),t("time-range-week",{staticClass:"time-range-week",attrs:{"increment-suggestions-by":5,"hours-by-day":e.hours},on:{"update:hours":e.updateHours}}),e._v(" "),t("time-zone-form-item",{staticClass:"timezone-form",attrs:{value:e.timezone,title:e._f("utl")("ecommerce.components.address_manager.location_label")},on:{input:e.updateTimeZone}})],1)},p_=[],$=_(145),ue=_(123),Ae=_(1036),m_=_(1307),v_=Object.defineProperty,g_=Object.defineProperties,f_=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,h_=Object.prototype.hasOwnProperty,b_=Object.prototype.propertyIsEnumerable,Be=(e,s,t)=>s in e?v_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,y_=(e,s)=>{for(var t in s||(s={}))h_.call(s,t)&&Be(e,t,s[t]);if(De)for(var t of De(s))b_.call(s,t)&&Be(e,t,s[t]);return e},S_=(e,s)=>g_(e,f_(s)),O_={name:"BusinessHoursForm",components:{OSection:$.OSection,OSelect:ue.OSelect,TimeRangeWeek:Ae.a,TimeZoneFormItem:m_.a},props:{hours:{type:Object,required:!1,default:()=>{}},currentLocationId:{type:String,required:!1,default:void 0},displayLocationsToSeedFrom:{type:Boolean,required:!1,default:!1},timezone:{type:String,default:Z}},data(){return{selectedLocation:void 0,selectedLocationId:void 0,selectedHoursType:void 0}},computed:S_(y_({},Object(o.mapState)(r.F,{locationsById:"storeLocationsById"})),{importHoursLabel(){return this.hasMoreThanOneLocation||!this.selectedLocation?Object(n.utl)("ecommerce.settings.dine_in.import_hours_from_location"):Object(n.utl)("ecommerce.settings.dine_in.import_hours_from_provided_location",this.selectedLocation.display_name)},hasMoreThanOneLocation(){return Object.keys(this.locationsById).length>1},locationSelectOptions(){return Object.keys(this.locationsById).map(e=>({value:e,label:this.locationsById[e].display_name}))},hourTypeSelectOptions(){return!this.selectedLocation||!this.displayLocationsToSeedFrom?[]:Object.keys(J).map(e=>this.hasAtLeastOneRange(J[e].getHoursFromLocation(this.selectedLocation))?(this.selectedHoursType||(this.selectedHoursType=e,this.seedHours(e)),{value:e,label:J[e].translation}):!1).filter(e=>!!e)}}),mounted(){this.selectedLocationId=this.currentLocationId,this.selectedLocation=this.locationsById[this.selectedLocationId]},methods:{updateHours(e){const s=this.hasAtLeastOneRange(e);this.$emit("update:hours",e,s)},hasAtLeastOneRange:e=>e&&!U.a.every(s=>e[s]&&e[s].length===0),selectLocation(e){this.selectedHoursType=null,this.selectedLocation=this.locationsById[e]},seedHours(e){this.updateHours(J[e].getHoursFromLocation(this.selectedLocation)),this.updateTimeZone(J[e].getTimeZoneFromLocation(this.selectedLocation))},updateTimeZone(e){this.$emit("update:timezone",e)},submit(e){e.close()}}},j_=O_,Ac=_(1802),P_=Object(I.a)(j_,u_,p_,!1,null,null,null),Re=P_.exports,C_=Object.defineProperty,E_=Object.defineProperties,I_=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,x_=Object.prototype.hasOwnProperty,L_=Object.prototype.propertyIsEnumerable,Fe=(e,s,t)=>s in e?C_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,w_=(e,s)=>{for(var t in s||(s={}))x_.call(s,t)&&Fe(e,t,s[t]);if(ke)for(var t of ke(s))L_.call(s,t)&&Fe(e,t,s[t]);return e},T_=(e,s)=>E_(e,I_(s)),M_=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),A_={name:"SSOBusinessHoursSheet",components:{OSheet:B.OSheet,OButton:T.OButton,BusinessHoursForm:Re},props:{location:{type:Object,required:!0}},data(){return{hours:this.businessHours,timezone:void 0,disableSaveButton:!1}},mounted(){this.hours=Object(P.get)(this.location,"dine_in_settings.business_hours",{}),this.timezone=Object(P.get)(this.location,"dine_in_settings.timezone",void 0)},methods:T_(w_({},Object(o.mapActions)(r.e,["createOrUpdateDineInSettings"])),{updateHours(e,s){this.hours=e,this.disableSaveButton=!s},updateTimezone(e){this.timezone=e},submit(e){return M_(this,null,function*(){yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:{business_hours:this.hours,timezone:this.timezone}}),e.close()})}})},D_=A_,B_=Object(I.a)(D_,d_,c_,!1,null,null,null),R_=B_.exports,k_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({attrs:{title:e._f("utl")("ecommerce.settings.dine_in.title"),backdrop:"","content-width":"large"},scopedSlots:e._u([{key:"actions",fn:function(i){return[t("o-button",{attrs:{variant:"primary"},on:{click:i.close}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.done"))+`
		`)])]}}])},e.$listeners),[e._v(" "),e.sheetError?t("o-notice",{staticClass:"sheet-notice",attrs:{type:"error"}},[e._v(`
		`+e._s(e.sheetError)+`
	`)]):e._e(),e._v(" "),t("seat-groups-section",{attrs:{"is-saving-seat-groups":e.isSavingSeatGroups,variant:"raised"},on:{"submit:addSeatGroup":e.handleAddSeatGroup,"submit:updateSeatGroup":e.handleUpdateSeatGroup,"submit:importSeatGroups":e.handleDuplicateSeatGroups,"click:delete":e.handleDeleteSeatGroup,"click:duplicate":e.handleDuplicateSeatGroups}})],1)},F_=[],U_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",{staticClass:"section",attrs:{variant:e.variant}},[t("div",{staticClass:"section-wrapper"},[t("o-grid",[t("o-grid-item",{attrs:{span:12,"tablet-landscape":12}},[t("div",[t("p",{staticClass:"setup-desc"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.dine_in_setup_description"))+`
					`)]),e._v(" "),e.tableIsVisible?t("seat-groups-table",{staticClass:"station-groups-table",attrs:{"table-data":e.seatGroups},on:{"click:add":e.openSeatGroupModal,"click:row":e.openSeatGroupModal,"click:delete":e.handleDeleteClick,"click:duplicate":e.duplicateSeatGroup}}):e._e(),e._v(" "),t("div",{staticClass:"actions-wrapper"},[e.tableIsVisible?e._e():t("o-button",{staticClass:"add-section-button",attrs:{variant:"secondary"},on:{click:function(){return e.openSeatGroupModal()}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.add_section_button"))+`
						`)]),e._v(" "),e.shouldShowImportButton?t("o-button",{on:{click:function(){return e.openImportSeatGroupsModal()}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.import_sections_button"))+`
						`)]):e._e()],1)],1)])],1),e._v(" "),e.isSavingSeatGroups?t("div",{staticClass:"overlay"},[t("o-loading",{staticClass:"loading"})],1):e._e()],1)])},G_=[],z=_(61),oe=_(69),N_=_(24),$_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal",attrs:{cancelable:""}},e.$listeners),[t("o-modal-pane",{ref:"pane",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.station_group_modal_title")},on:{scroll:e.handleScroll}},[e.hasModalError?t("o-notice",{staticClass:"error-notice",attrs:{type:"error"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.unexpected_error_message"))+`
		`)]):e._e(),e._v(" "),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[t("o-form-item",{attrs:{errors:e.form.name.errors}},[t("template",{slot:"label"},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.label_station_group_name"))+`

					`),t("o-icon",{directives:[{name:"hovertip",rawName:"v-hovertip",value:e.utl("ecommerce.settings.dine_in.seat_group_name_placeholder"),expression:"utl('ecommerce.settings.dine_in.seat_group_name_placeholder')"}],attrs:{name:"circle-question-mark",tabindex:"0"}})],1),e._v(" "),t("o-input",{staticClass:"medium-input",attrs:{placeholder:e.utl("ecommerce.settings.dine_in.seat_group_name_placeholder")},model:{value:e.seatGroup.name,callback:function(i){e.$set(e.seatGroup,"name",i)},expression:"seatGroup.name"}}),e._v(" "),t("o-toggle",{staticClass:"station-name-toggle",model:{value:e.seatGroup.has_station_group_names,callback:function(i){e.$set(e.seatGroup,"has_station_group_names",i)},expression:"seatGroup.has_station_group_names"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.label_station_group_name_toggle"))+`
				`)])],2),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_name"),errors:e.form.seat_label.errors}},[t("o-input",{staticClass:"medium-input",attrs:{placeholder:e._f("utl")("ecommerce.settings.dine_in.seat_label_placeholder")},model:{value:e.seatGroup.seat_label,callback:function(i){e.$set(e.seatGroup,"seat_label",i)},expression:"seatGroup.seat_label"}})],1),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_name_number"),errors:e.seatCountErrors}},[t("o-input",{staticClass:"small-input",attrs:{type:"number"},model:{value:e.seatCount,callback:function(i){e.seatCount=e._n(i)},expression:"seatCount"}})],1),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_name_start_numbering"),errors:e.form.numbering_starts_at.errors}},[t("o-input",{staticClass:"small-input",attrs:{type:"number",disabled:e.startNumberingInputDisabled},model:{value:e.seatGroup.numbering_starts_at,callback:function(i){e.$set(e.seatGroup,"numbering_starts_at",e._n(i))},expression:"seatGroup.numbering_starts_at"}})],1),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_names"),sublabel:e._f("utl")("ecommerce.settings.dine_in.station_names_description")}}),e._v(" "),e._l(e.seatNames,function(i,v){return t("o-form-item",{key:v,attrs:{errors:e.seatNameErrors[v]}},[t("div",{staticClass:"station-name-input"},[t("div",{staticClass:"station-number"},[e._v(`
						`+e._s(v+1)+`
					`)]),e._v(" "),t("o-input",{staticClass:"medium-input",class:{disabled:e.isSeatInputDisabled(v)},attrs:{disabled:e.isSeatInputDisabled(v)},model:{value:e.seatNames[v],callback:function(E){e.$set(e.seatNames,v,E)},expression:"seatNames[index]"}}),e._v(" "),e.shouldShowResetButton(v)?t("o-button",{staticClass:"reset-button",attrs:{variant:"muted"},on:{click:function(E){return e.resetLabelClick(v)}}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.common.reset"))+`
					`)]):e._e()],1)])}),e._v(" "),e.isLoadingList?t("o-loading",{staticClass:"loader"}):e._e()],2),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close(!1)}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.cancel"))+`
			`)]),e._v(" "),t("o-button",{attrs:{variant:"primary",disabled:e.isLoading},on:{click:e.handleSave}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.save"))+`
			`)])],1),e._v(" "),e.isLoading?t("div",{staticClass:"overlay"},[t("o-loading",{staticClass:"loader"})],1):e._e()],2)],1)},H_=[],H=_(29),N=_(32),W_=_(48),z_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-alert",e._g({ref:"alert",attrs:{"before-close":e.beforeClose,cancelable:"",title:e.translations.alertTitle}},e.$listeners),[t("p",[e._v(e._s(e.alertBodyText))]),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.alert.close(!1)}}},[e._v(`
			`+e._s(e.translations.alertCancelButton)+`
		`)]),e._v(" "),t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.alert.close(!0)}}},[e._v(`
			`+e._s(e.translations.alertSaveButton)+`
		`)])],1)],2)},V_=[],pe=_(241);const Ue={alertTitle:Object(n.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_title"),alertBodySingular:Object(n.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_body_singular"),alertBodyPluralTwo:Object(n.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_body_plural_two"),alertBodyPluralMulti:Object(n.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_body_plural_multi"),alertSaveButton:Object(n.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_save_buton"),alertCancelButton:Object(n.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_cancel_buton")};var K_={name:"DeactivateQRcodesAlert",components:{OButton:T.OButton,OAlert:D.OAlert},props:{originalCount:{type:Number,required:!0},newCount:{type:Number,required:!0}},data(){return{translations:Ue}},computed:{alertBodyText(){const{originalCount:e,newCount:s}=this,{alertBodySingular:t,alertBodyPluralTwo:i,alertBodyPluralMulti:v}=Ue;switch(e-s){case 1:return Object(pe.sprintf)(t,{newCount:s,originalCount:e,deletedStationNum:e});case 2:return Object(pe.sprintf)(i,{newCount:s,originalCount:e,lowerBound:s+1,upperBound:e});default:return Object(pe.sprintf)(v,{newCount:s,originalCount:e,lowerBound:s+1,upperBound:e})}}},methods:{beforeClose(e,s){s(e)}}},Q_=K_,Z_=Object(I.a)(Q_,z_,V_,!1,null,null,null),q_=Z_.exports,Y_=Object.defineProperty,X_=Object.defineProperties,J_=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,en=Object.prototype.hasOwnProperty,tn=Object.prototype.propertyIsEnumerable,Ne=(e,s,t)=>s in e?Y_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ee=(e,s)=>{for(var t in s||(s={}))en.call(s,t)&&Ne(e,t,s[t]);if(Ge)for(var t of Ge(s))tn.call(s,t)&&Ne(e,t,s[t]);return e},me=(e,s)=>X_(e,J_(s)),te=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),sn={components:{OModal:f.OModal,OModalPane:f.OModalPane,OForm:N.OForm,OFormItem:N.OFormItem,OButton:T.OButton,OInput:W_.OInput,OToggle:Q.OToggle,OIcon:M.OIcon,OLoading:oe.OLoading,ONotice:O.ONotice},directives:{Hovertip:re.OHovertip},inject:{alertLayer:D.AlertLayer},props:{selectedGroup:{type:Object,default:null},seatGroupName:{type:String,default:""}},data(){return{seatNames:[],seatNameErrors:[],seatCountErrors:[],seatGroup:{},isLoading:!1,isLoadingList:!1,hasModalError:!1,seatCount:0,seatCountOriginal:0,seatsCurrentPage:0,seatsTotalPages:0,form:{name:{errors:[],validators:[Object(H.p)(Object(n.utl)("ecommerce.settings.dine_in.seat_group_name_missing_error"))]},numbering_starts_at:{errors:[],validateIf:()=>!this.startNumberingInputDisabled,validators:[Object(H.p)(Object(n.utl)("ecommerce.settings.errors.please_number_greater_then_zero")),Object(H.h)(Object(n.utl)("ecommerce.settings.errors.please_number_greater_then_zero")),Object(H.e)(Object(n.utl)("ecommerce.settings.errors.please_number_greater_then_zero"))]},seat_label:{errors:[],validators:[Object(H.p)(Object(n.utl)("ecommerce.settings.dine_in.seat_label_missing_error"))]}}}},computed:{startNumberingInputDisabled(){return this.seatNames.some((e,s)=>this.isNameCustomized(s))},defaultLabels(){const e=[],s=this.seatGroup.has_station_group_names?Object(n.utl)("ecommerce.settings.dine_in.auto_seat_label",this.seatGroup.name,this.seatGroup.seat_label):this.seatGroup.seat_label;for(let t=0;t<this.seatCount;t+=1)e.push(`${s} ${this.seatGroup.numbering_starts_at+t}`);return e},infiniteLoaderIsActive(){return this.seatNames.length<this.seatCount},shouldShowDeactivationAlert(){return this.selectedGroup&&this.seatCount<this.seatCountOriginal}},watch:{defaultLabels(e,s){this.seatNames=this.seatNames.map((t,i)=>t!==s[i]?t:e[i]||t)},"seatGroup.name":function(){Object(H.a)(this.form.name)},"seatGroup.numbering_starts_at":function(){Object(H.a)(this.form.numbering_starts_at)},"seatGroup.seat_label":function(){Object(H.a)(this.form.seat_label)},seatCount(){this.seatCountErrors=[]},seatNames(){this.seatNameErrors=[]}},mounted(){return te(this,null,function*(){if(this.selectedGroup){this.initializeSeatGroup();return}this.initializeWithDefaultValues()})},methods:me(ee({utl:n.utl},Object(o.mapActions)(r.e,["fetchSeatGroup"])),{handleScroll(e){const s=e.target;s.scrollTop===s.scrollHeight-s.offsetHeight&&this.loadNextPageOfSeats()},initializeWithDefaultValues(){this.seatGroup=me(ee({},Te),{name:this.seatGroupName||Te.name}),this.seatCount=Me,this.loadNextPageOfSeats()},getSeatGroupData(e=1){return te(this,null,function*(){try{this.hasModalError=!1;const s=yield this.fetchSeatGroup({id:this.selectedGroup.id,page:e});return this.seatsCurrentPage=Object(P.get)(s,"pagination.current_page"),this.seatsTotalPages=Object(P.get)(s,"pagination.total_pages"),s}catch(s){this.hasModalError=!0}return null})},initializeSeatGroup(){return te(this,null,function*(){try{this.isLoading=!0,this.seatGroup=yield this.getSeatGroupData(),this.seatCount=this.seatGroup.total_seats,this.seatCountOriginal=this.seatCount,this.seatNames=this.seatGroup.seats.map(e=>this.getSeatLabel(e))}finally{this.isLoading=!1}})},loadNextPageOfSeats(){return te(this,null,function*(){if(!this.infiniteLoaderIsActive||this.isLoadingList)return;const e=this.seatsCurrentPage<this.seatsTotalPages;if(this.selectedGroup&&e){this.isLoadingList=!0;const{seats:t}=yield this.getSeatGroupData(this.seatsCurrentPage+1),i=t.map(v=>this.getSeatLabel(v));this.seatNames=this.seatNames.concat(i),this.seatGroup.seats=this.seatGroup.seats.concat(t),this.isLoadingList=!1;return}const s=this.defaultLabels.slice(this.seatNames.length,this.seatNames.length+Me);this.seatNames=this.seatNames.concat(s)})},isNameCustomized(e){return this.defaultLabels[e]&&this.seatNames[e]&&this.seatNames[e]!==this.defaultLabels[e]},shouldShowResetButton(e){return this.isNameCustomized(e)&&!this.isSeatInputDisabled(e)},resetLabelClick(e){this.seatNames=this.seatNames.map((s,t)=>t===e?this.defaultLabels[t]:s)},getSeatLabel(e){return e.name?this.seatGroup.has_station_group_names?Object(n.utl)("ecommerce.settings.dine_in.full_seat_label",this.seatGroup.name,this.seatGroup.seat_label,e.name):Object(n.utl)("ecommerce.settings.dine_in.short_seat_label",this.seatGroup.seat_label,e.name):e.type},isSeatInputDisabled(e){return e+1>this.seatCount},validateForm(){return Object(H.x)(this.form,this.seatGroup)&&this.validateSeatCount()&&this.valdidateSeatNames()},valdidateSeatNames(){return this.seatNames=this.seatNames.slice(0,this.seatCount),this.seatNameErrors=this.seatNames.map(e=>e?"":Object(n.utl)("ecommerce.settings.dine_in.seat_label_missing_error")),this.seatNameErrors.every(e=>!e)},validateSeatCount(){return this.seatCountError="",!this.seatCount||this.seatCount<1?(this.seatCountErrors=[Object(n.utl)("ecommerce.settings.errors.please_number_greater_then_zero")],!1):this.seatCount>Ee?(this.seatCountErrors=[Object(n.utl)("ecommerce.settings.dine_in.seat_group_count_error",Ee)],!1):!0},handleSave(){if(!!this.validateForm()){if(this.shouldShowDeactivationAlert){this.openDeactivationAlert();return}this.$refs.modal.close(this.formatSeatGroupData())}},formatSeatGroupData(){return me(ee({},this.seatGroup),{seat_count:this.seatCount,seats:this.seatNames.map((e,s)=>{const t=Object(P.get)(this.seatGroup,`seats[${s}]`,{});return ee(ee({},t),this.formatSeatData(e,s))})})},formatSeatData(e,s){return this.isNameCustomized(s)?{type:e,name:""}:{type:this.seatGroup.seat_label,name:this.seatGroup.numbering_starts_at+s}},openDeactivationAlert(){this.alertLayer.open(q_,{props:{originalCount:this.seatCountOriginal,newCount:this.seatCount},on:{close:e=>te(this,null,function*(){e&&(yield this.$refs.modal.close(this.formatSeatGroupData()))})}})}})},_n=sn,Dc=_(1803),nn=Object(I.a)(_n,$_,H_,!1,null,"c6fa58ee",null),rn=nn.exports,an=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("o-table",{attrs:{"row-data":e.tableData},on:{rowClick:e.handleRowClick}},[t("o-table-col",{attrs:{property:"name"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_section_name"))+`
		`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_count"},scopedSlots:e._u([{key:"formatter",fn:function(i){return[e._v(`
				`+e._s(i.data.total_seats)+`
			`)]}}])},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_total_seats"))+`
			`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_label"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_seat_label"))+`
		`)]),e._v(" "),t("o-table-col",{attrs:{align:"right"},scopedSlots:e._u([{key:"formatter",fn:function(i){return[t("o-popover",{scopedSlots:e._u([{key:"action",fn:function(v){return[t("o-icon",{attrs:{name:"more"},on:{click:function(E){return E.stopPropagation(),v.toggle()}}})]}},{key:"default",fn:function(v){return t("o-nav",{attrs:{variant:"menu"}},[e.deletionIsAllowed?t("o-nav-link",{on:{click:function(E){return e.handleDeleteClick(v,i.data.id)}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.common.delete"))+`
						`)]):e._e(),e._v(" "),t("o-nav-link",{on:{click:function(E){return e.handleDuplicateClick(v,i.data)}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.common.duplicate"))+`
						`)])],1)}}],null,!0)})]}}])})],1),e._v(" "),t("div",{staticClass:"add-section-link",on:{click:function(i){return e.$emit("click:add")}}},[e._v(`
		+ `+e._s(e._f("utl")("ecommerce.settings.dine_in.add_section_button"))+`
	`)])],1)},on=[],q=_(231),$e=_(202),ln=_(148),dn={components:{OTable:q.OTable,OTableCol:q.OTableCol,OIcon:M.OIcon,ONav:$e.ONav,ONavLink:$e.ONavLink,OPopover:ln.OPopover},props:{tableData:{type:Array,default:()=>[]}},computed:{deletionIsAllowed(){return this.tableData&&this.tableData.length>1}},methods:{utl:n.utl,handleRowClick(e){this.$emit("click:row",e)},handleDeleteClick(e,s){this.$emit("click:delete",s),e.close()},handleDuplicateClick(e,s){this.$emit("click:duplicate",s),e.close()}}},cn=dn,Bc=_(1804),un=Object(I.a)(cn,an,on,!1,null,"a738c462",null),pn=un.exports,mn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal"},e.$listeners),[t("o-modal-pane",{attrs:{title:e.utl("ecommerce.settings.dine_in.import_modal_header")}},[e._l(e.addresses,function(i){return t("div",{key:i.id,staticClass:"seat-groups"},[t("o-heading",{attrs:{size:"title-3"}},[e._v(`
				`+e._s(e._f("formatAddressName")(i))+`
			`)]),e._v(" "),t("o-table",{staticClass:"seat-groups-table",attrs:{"row-data":e.get(i,"location.dine_in_settings.seat_groups",[]),checked:e.checked}},[t("o-table-col",{attrs:{property:"name"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_section_name"))+`
				`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_count"},scopedSlots:e._u([{key:"formatter",fn:function(v){return[e._v(`
						`+e._s(v.data.total_seats)+`
					`)]}}],null,!0)},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_total_seats"))+`
					`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_label"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_seat_label"))+`
				`)])],1)],1)}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close("Cancel")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.cancel"))+`
			`)]),e._v(" "),t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.modal.close(e.checked)}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.import_button_label"))+`
			`)])],1)],2)],1)},vn=[],gn={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane,OTable:q.OTable,OTableCol:q.OTableCol,OHeading:A.OHeading},filters:{formatAddressName:n.formatAddressName},props:{addresses:{type:Array,required:!0}},data(){return{checked:[]}},methods:{utl:n.utl,get:P.get}},fn=gn,Rc=_(1805),hn=Object(I.a)(fn,mn,vn,!1,null,"7cf77e48",null),bn=hn.exports,yn=Object.defineProperty,Sn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable,We=(e,s,t)=>s in e?yn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ve=(e,s)=>{for(var t in s||(s={}))jn.call(s,t)&&We(e,t,s[t]);if(He)for(var t of He(s))Pn.call(s,t)&&We(e,t,s[t]);return e},ze=(e,s)=>Sn(e,On(s)),Cn={name:"SeatGroupsSection",components:{OButton:T.OButton,OSection:$.OSection,OGrid:z.OGrid,OGridItem:z.OGridItem,SeatGroupsTable:pn,OLoading:oe.OLoading},directives:{Hovertip:re.OHovertip},inject:{modalLayer:f.ModalLayer},props:{isSavingSeatGroups:{type:Boolean,default:!1},variant:{type:String,default:"normal"}},data(){return{isLoadingSeatGroup:!1}},computed:ze(ve(ve({},Object(o.mapGetters)("storefront",{userLang:"getUserLang",isSiteInMetricUnits:"isSiteUsingMetricUnits",siteLogo:"siteLogo",siteTitle:"siteTitle"})),Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone",addresses:"storeAddressesWithLocation"})),{seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},addressesWithImportableSeatGroups(){return this.addresses.filter(e=>e.storeAddressId!==this.location.storeAddressId&&Object(P.get)(e,"location.dine_in_settings.seat_groups.length"))},sampleQRCodeCard:{get(){const e=[N_.r].includes(this.userLang)?`-${this.userLang}`:"";return Object(n.assetify)(`/images/commerce/store-app/app/dine-in/example-qr-station-card${e}.png`)}},tipText(){return Object(n.utl)("ecommerce.settings.dine_in.self_serve_card_setup_tip")},tableIsVisible(){return this.seatGroups.length>0},shouldShowImportButton(){return this.addressesWithImportableSeatGroups.length>0}}),created(){this.fetchSiteSnapshot()},methods:ze(ve({assetify:n.assetify},Object(o.mapActions)("storefront",["fetchSiteSnapshot"])),{getDefaultSeatGroupName(){let e=1,s=Object(n.utl)("ecommerce.settings.dine_in.default_station_name_with_number",e);const t=this.seatGroups.map(i=>i.name);for(;t.includes(s);)e+=1,s=Object(n.utl)("ecommerce.settings.dine_in.default_station_name_with_number",e);return s},openSeatGroupModal(e=null){this.modalLayer.open(rn,{props:{selectedGroup:e,seatGroupName:this.getDefaultSeatGroupName()},on:{close:s=>{if(!!s){if(s.id){this.updateSeatGroup(s);return}this.addSeatGroup(s)}}}})},openImportSeatGroupsModal(){this.modalLayer.open(bn,{props:{addresses:this.addressesWithImportableSeatGroups},on:{close:e=>{e.length&&this.$emit("submit:importSeatGroups",e)}}})},handleDeleteClick(e){this.$emit("click:delete",e)},addSeatGroup(e){this.$emit("submit:addSeatGroup",e)},updateSeatGroup(e){this.$emit("submit:updateSeatGroup",e)},duplicateSeatGroup(e){this.$emit("click:duplicate",e)}})},En=Cn,kc=_(1806),In=Object(I.a)(En,U_,G_,!1,null,"538aa5f6",null),Ve=In.exports,xn=Object.defineProperty,Ln=Object.defineProperties,wn=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Qe=(e,s,t)=>s in e?xn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ge=(e,s)=>{for(var t in s||(s={}))Tn.call(s,t)&&Qe(e,t,s[t]);if(Ke)for(var t of Ke(s))Mn.call(s,t)&&Qe(e,t,s[t]);return e},Ze=(e,s)=>Ln(e,wn(s)),An=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())});const se={data(){return{isSavingSeatGroups:!1,sheetError:""}},computed:Ze(ge(ge({},Object(o.mapGetters)(r.e,{isSitePublished:"isCurrentSitePublished"})),Object(o.mapGetters)(["orderOnlineDeepLink"])),{isStoreOrderOnline(){return this.$store.state.storefront.isStoreOrderOnline}}),methods:Ze(ge({},Object(o.mapActions)(r.e,["createSeatGroup","updateSeatGroup","deleteSeatGroup","duplicateSeatGroups"])),{canOpenPreviewQrCode(){return!this.isSitePublished||!this.isStoreOrderOnline},callWithErrorHandling(e,s){return An(this,null,function*(){try{this.isSavingSeatGroups=!0,yield e(s)}catch(t){console.error(t)}finally{this.isSavingSeatGroups=!1}})},handleAddSeatGroup(e){return this.callWithErrorHandling(this.createSeatGroup,e)},handleDuplicateSeatGroups(e){return this.callWithErrorHandling(this.duplicateSeatGroups,e)},handleUpdateSeatGroup(e){return this.callWithErrorHandling(this.updateSeatGroup,e)},handleDeleteSeatGroup(e){return this.callWithErrorHandling(this.deleteSeatGroup,e)},onGoToWebsite(){const e=window.com_userID,s=this.$store.getters.selectedSite.site_id;window.location.href=`/app/website/users/${e}/sites/${s}/dashboard/editor`},enableOrderOnline(){this.$router.push({name:l.K,params:{url:this.orderOnlineDeepLink}})}})};var Dn={name:"DineInSetupSheet",components:{OSheet:B.OSheet,OButton:T.OButton,ONotice:O.ONotice,SeatGroupsSection:Ve},mixins:[se]},Bn=Dn,Fc=_(1807),Rn=Object(I.a)(Bn,k_,F_,!1,null,"5137a056",null),kn=Rn.exports,Fn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({attrs:{title:e._f("utl")("ecommerce.settings.dine_in.sso_messaging"),backdrop:"","content-width":"large"},scopedSlots:e._u([{key:"actions",fn:function(i){return[t("o-button",{attrs:{variant:"primary",loading:e.savingBanners,disabled:!e.hasValidBanners},on:{click:function(v){return e.submit(i)}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.save"))+`
		`)])]}}])},e.$listeners),[e._v(" "),e.sheetError?t("o-notice",{staticClass:"sheet-notice",attrs:{type:"error"}},[e._v(`
		`+e._s(e.sheetError)+`
	`)]):e._e(),e._v(" "),t("edit-banner-section",{attrs:{"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"unavailable-banner":e.unavailableBanner,"display-order-resumption":e.displayOrderResumption},on:{"update:menuBanner":e.handleMenuBannerChange,"update:checkoutBanner":e.handleCheckoutBannerChange,"update:unavailableBanner":e.handleUnavailableBannerChange,"update:showOrderResumption":e.handleOrderResumptionToggle,"toggle:isValid":e.setValidation}})],1)},Un=[],Gn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-grid",{staticClass:"mt-2"},[t("o-grid-item",{attrs:{span:12,"tablet-landscape":7}},[t("div",[t("o-form",[t("form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.menu_banner_form_label"),"label-info":e._f("utl")("ecommerce.settings.dine_in.menu_banner_form_sublabel"),value:e.menuBanner,"learn-more-link":e.SELF_SERVE_HELP_ARTICLE_URL,"soft-limit":e.MENU_BANNER_SOFT_LIMIT,"hard-limit":e.MENU_BANNER_HARD_LIMIT,default:e.MENU_BANNER_DEFAULT},on:{input:e.handleMenuBannerChange,focus:function(){return e.onFocus(e.MENU_PREVIEW_PAGE)},"toggle:isValid":e.setValidation,"click:preview":e.openMenuPreviewInModal}}),e._v(" "),t("form-item",{staticClass:"mt-3",attrs:{label:e._f("utl")("ecommerce.settings.dine_in.checkout_banner_form_label"),"label-info":e._f("utl")("ecommerce.settings.dine_in.checkout_banner_form_sublabel"),value:e.checkoutBanner,"learn-more-link":e.SELF_SERVE_HELP_ARTICLE_URL,"soft-limit":e.CHECKOUT_BANNER_SOFT_LIMIT,"hard-limit":e.CHECKOUT_BANNER_HARD_LIMIT,default:e.CHECKOUT_BANNER_DEFAULT},on:{input:e.handleCheckoutBannerChange,focus:function(){return e.onFocus(e.CHECKOUT_PREVIEW_PAGE)},"toggle:isValid":e.setValidation,"click:preview":e.openCheckoutPreviewInModal}}),e._v(" "),e.canUseSSOBusinessHours?t("form-item",{staticClass:"mt-3",attrs:{label:e._f("utl")("ecommerce.settings.dine_in.resumption_banner_form_label"),"label-info":e._f("utl")("ecommerce.settings.dine_in.resumption_banner_form_sublabel"),value:e.unavailableBanner,"soft-limit":e.UNAVAILABLE_BANNER_SOFT_LIMIT,"hard-limit":e.UNAVAILABLE_BANNER_HARD_LIMIT,default:e.UNAVAILABLE_BANNER_DEFAULT},on:{input:e.handleUnavailableBannerChange,focus:function(){return e.onFocus(e.RESUMPTION_PREVIEW_PAGE)},"toggle:isValid":e.setValidation,"click:preview":e.openCheckoutPreviewInModal}}):e._e(),e._v(" "),e.canUseSSOBusinessHours?t("div",{staticClass:"resumption-toggle"},[t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.show_when_orders_resume")))]),e._v(" "),t("o-toggle",{on:{click:function(i){return e.onFocus(e.RESUMPTION_PREVIEW_PAGE)},"toggle:update":e.handleShowResumptionToggle},model:{value:e.toggleValue,callback:function(i){e.toggleValue=i},expression:"toggleValue"}})],1):e._e()],1)],1)]),e._v(" "),t("o-grid-item",{staticClass:"banner-preview",attrs:{span:12,"tablet-landscape":5}},[t("mobile-preview",{attrs:{"visible-page":e.currentPreview,"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"unavailable-banner":e.unavailableBanner,"display-order-resumption":e.displayOrderResumption,"enable-slider":!1}})],1)],1)},Nn=[],$n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"phone-frame"},[t("div",{staticClass:"screen-wrapper"},[t("div",{ref:"slider",staticClass:"screen-slider",style:e.sliderStyle},e._l(e.screens,function(i,v){return t("div",{key:v,staticClass:"phone-screen"},[t("div",{staticClass:"phone-nav"},[e.siteLogo?t("img",{staticClass:"nav-logo",attrs:{src:e.siteLogo}}):t("o-heading",{attrs:{size:"title-4"}},[e._v(`
							`+e._s(e.siteTitle)+`
						`)])],1),e._v(" "),t(i.component,e._b({tag:"component",attrs:{banner:i.banner}},"component",i.props,!1))],1)}),0)])]),e._v(" "),e.enableSlider?t("div",{staticClass:"slider-position"},e._l(e.screens.length,function(i){return t("div",{key:i,staticClass:"position-indicator",class:{active:i-1==e.visiblePage}})}),0):e._e()])},Hn=[],Wn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("banner",{attrs:{"banner-text":e.banner,"banner-subline-text":e.bannerSublineText,"show-station":e.showStation,focused:e.activeBorder}}),e._v(" "),t("div",{staticClass:"category-header preview-separator"},[t("o-heading",{attrs:{size:"title-4"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.item_filtering_modal.categories_title"))+`
		`)])],1),e._v(" "),e._l(3,function(i){return t("div",{key:i,staticClass:"list-item preview-separator"},[t("div",[t("o-heading",{attrs:{size:"title-4"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.menu_item_name"))+`
			`)]),e._v(" "),t("p",{staticClass:"item-description"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.menu_item_description"))+`
			`)]),e._v(" "),t("o-heading",{staticStyle:{"font-weight":"100"},attrs:{size:"title-4"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.menu_item_price"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"item-placeholder"})])})],2)},zn=[],Vn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"banner",class:{active:e.focused==!0}},[e.bannerText?t("div",[t("o-heading",{staticClass:"station-header",attrs:{flush:!0}},[e._v(`
			`+e._s(e.bannerText)+`
		`)]),e._v(" "),e.bannerSublineText?t("o-heading",{staticClass:"station-header",attrs:{flush:!0}},[e._v(`
			`+e._s(e.bannerSublineText)+`
		`)]):e._e()],1):e._e(),e._v(" "),e.showStation?t("div",{staticClass:"station"},[t("reservations-icon",{staticClass:"icon"}),e._v(" "),t("o-heading",{attrs:{size:"title-4",flush:!0}},[e._v(`
			`+e._s(e.stationLabel)+` 1
		`)])],1):e._e()])},Kn=[],Qn=_(352),qe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",version:"1.1"}},[t("path",{pre:!0,attrs:{d:"M 0.631 0.066 C 0.402 0.154, 0.151 0.408, 0.065 0.640 L -0.001 0.815 0.007 5.053 L 0.015 9.291 0.094 9.441 C 0.193 9.627, 0.392 9.827, 0.560 9.909 C 0.631 9.943, 0.773 9.983, 0.877 9.998 C 0.981 10.013, 1.991 10.025, 3.122 10.026 L 5.179 10.026 5.247 10.203 C 5.485 10.818, 6.175 11.499, 6.836 11.773 L 6.994 11.838 6.994 12.910 L 6.994 13.982 6.402 13.995 C 5.877 14.008, 5.788 14.017, 5.634 14.077 C 5.132 14.272, 4.879 14.860, 5.074 15.380 C 5.162 15.615, 5.396 15.850, 5.629 15.938 C 5.798 16.001, 5.819 16.001, 8.056 15.993 L 10.311 15.985 10.442 15.915 C 10.739 15.757, 10.925 15.509, 10.994 15.176 C 11.058 14.874, 10.935 14.507, 10.698 14.289 C 10.431 14.043, 10.213 13.989, 9.478 13.989 L 9.006 13.989 9.006 12.914 L 9.006 11.839 9.156 11.785 C 9.359 11.712, 9.786 11.441, 10.017 11.238 C 10.265 11.020, 10.545 10.645, 10.707 10.311 L 10.839 10.041 13.022 10.026 L 15.205 10.011 15.380 9.941 C 15.631 9.839, 15.849 9.612, 15.951 9.346 L 16.030 9.139 16.030 4.945 C 16.030 2.410, 16.019 0.750, 16.002 0.750 C 15.987 0.750, 15.966 0.709, 15.955 0.659 C 15.934 0.566, 15.770 0.330, 15.657 0.233 C 15.623 0.203, 15.527 0.142, 15.445 0.097 L 15.295 0.015 8.045 0.009 L 0.795 0.003 0.631 0.066 M 0.015 4.998 C 0.015 7.326, 0.018 8.283, 0.023 7.124 C 0.027 5.966, 0.027 4.061, 0.023 2.892 C 0.018 1.722, 0.015 2.670, 0.015 4.998 M 2.011 4.998 L 2.011 7.985 3.596 7.985 L 5.181 7.985 5.234 7.838 C 5.372 7.456, 5.816 6.895, 6.227 6.583 C 6.460 6.406, 6.942 6.176, 7.250 6.093 C 7.592 6.002, 8.184 5.980, 8.535 6.047 C 9.493 6.227, 10.287 6.834, 10.710 7.707 L 10.845 7.985 12.417 7.985 L 13.989 7.985 13.989 4.998 L 13.989 2.011 8 2.011 L 2.011 2.011 2.011 4.998 M 7.710 8.055 C 7.266 8.221, 7.024 8.556, 7.024 9.006 C 7.024 9.391, 7.200 9.689, 7.535 9.874 C 7.718 9.975, 7.746 9.981, 8 9.981 C 8.235 9.981, 8.292 9.970, 8.440 9.898 C 8.909 9.667, 9.125 9.076, 8.910 8.612 C 8.738 8.240, 8.449 8.042, 8.049 8.024 C 7.904 8.018, 7.779 8.029, 7.710 8.055","fill-rule":"evenodd"}})])},Zn=[];qe._withStripped=!0;const qn=void 0,Yn=void 0,Xn=void 0,Jn=!1,ei=Object(Qn.a)({render:qe,staticRenderFns:Zn},qn,{},Yn,Jn,Xn,!1,void 0,void 0,void 0);var ti=Object.defineProperty,si=Object.defineProperties,_i=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,ni=Object.prototype.hasOwnProperty,ii=Object.prototype.propertyIsEnumerable,Xe=(e,s,t)=>s in e?ti(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ri=(e,s)=>{for(var t in s||(s={}))ni.call(s,t)&&Xe(e,t,s[t]);if(Ye)for(var t of Ye(s))ii.call(s,t)&&Xe(e,t,s[t]);return e},ai=(e,s)=>si(e,_i(s)),oi={components:{OHeading:A.OHeading,ReservationsIcon:ei},props:{bannerText:{type:String,default:""},bannerSublineText:{type:String,required:!1,default:""},showStation:{type:Boolean,required:!1,default:!1},focused:{type:Boolean,default:!0}},data(){return{assetify:n.assetify}},computed:ai(ri({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{stationLabel(){return Object(P.get)(this.location,"dine_in_settings.type",Object(n.utl)("ecommerce.settings.dine_in.default_station_label"))}})},li=oi,Uc=_(1808),di=Object(I.a)(li,Vn,Kn,!1,null,"f3686b14",null),Je=di.exports,ci={components:{OHeading:A.OHeading,Banner:Je},props:{banner:{type:String,default:""},activeBorder:{type:Boolean,default:!0},fadeMenu:{type:Boolean,default:!0},bannerSublineText:{type:String,required:!1,default:""},showStation:{type:Boolean,required:!1,default:!1}}},ui=ci,Gc=_(1809),pi=Object(I.a)(ui,Wn,zn,!1,null,"71f2fce0",null),fe=pi.exports,mi=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"checkout-preview"},[t("div",{staticClass:"preview-card text-center"},[t("img",{attrs:{src:e.assetify("/images/commerce/store-app/check-icon.svg")}}),e._v(" "),t("o-heading",{staticClass:"mt-1",attrs:{size:"title-3"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.checkout_confirmation"))+`
		`)]),e._v(" "),t("div",[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.checkout_message_email"))+`
		`)])],1),e._v(" "),t("banner",{attrs:{"banner-text":e.banner}}),e._v(" "),t("div",{staticClass:"preview-card"},[t("o-heading",{staticClass:"preview-card-header",attrs:{size:"title-5"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.payment_header"))+`
		`)]),e._v(" "),t("div",{staticClass:"mt-2"},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.payment_info_placeholder"))+`
		`)])],1),e._v(" "),t("div",{staticClass:"preview-card"},[t("o-heading",{staticClass:"preview-card-header",attrs:{size:"title-5"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.order_summary_header"))+`
		`)])],1)],1)},vi=[],gi={components:{OHeading:A.OHeading,Banner:Je},props:{banner:{type:String,default:""}},data(){return{assetify:n.assetify}}},fi=gi,Nc=_(1810),hi=Object(I.a)(fi,mi,vi,!1,null,"1c071fb4",null),et=hi.exports,bi=Object.defineProperty,yi=Object.defineProperties,Si=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,Oi=Object.prototype.hasOwnProperty,ji=Object.prototype.propertyIsEnumerable,st=(e,s,t)=>s in e?bi(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Pi=(e,s)=>{for(var t in s||(s={}))Oi.call(s,t)&&st(e,t,s[t]);if(tt)for(var t of tt(s))ji.call(s,t)&&st(e,t,s[t]);return e},Ci=(e,s)=>yi(e,Si(s)),Ei={components:{MenuScreen:fe,CheckoutScreen:et,OHeading:A.OHeading},props:{visiblePage:{type:Number,default:0},menuBanner:{type:String,default:""},checkoutBanner:{type:String,default:""},unavailableBanner:{type:String,default:""},displayOrderResumption:{type:Boolean,default:!1},enableSlider:{type:Boolean,default:!0},activeBorder:{type:Boolean,default:!0}},computed:Ci(Pi({},Object(o.mapState)(r.E,["siteLogo","siteTitle"])),{sliderStyle(){if(!this.enableSlider)return{transform:"none"};const e=Object(P.get)(this.$refs,"slider.clientWidth",0);return{transform:`translate3d(-${this.visiblePage*e}px, 0, 0)`}},screens(){const e=[{component:fe,banner:this.menuBanner,props:{activeBorder:this.activeBorder}},{component:et,banner:this.checkoutBanner,props:{}},{component:fe,banner:this.unavailableBanner,props:{showStation:!1,bannerSublineText:this.displayOrderResumption?Object(n.utl)("ecommerce.settings.dine_in.resumption_time"):""}}];return this.enableSlider?e:[e[this.visiblePage]]}}),methods:{assetify:n.assetify}},Ii=Ei,$c=_(1811),xi=Object(I.a)(Ii,$n,Hn,!1,null,"79d2f691",null),he=xi.exports,Li=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",[t("div",{staticClass:"label-container"},[t("div",[t("p",{staticClass:"label"},[e._v(`
				`+e._s(e.label)+`
			`)]),e._v(" "),t("div",{staticClass:"label-info mt-1"},[e._v(`
				`+e._s(e.labelInfo)+`
				`),t("a",{staticClass:"ml-half",attrs:{href:e.learnMoreLink,target:"_blank"}},[e._v(e._s(e._f("utl")("ecommerce.common.learn_more_link")))])])]),e._v(" "),t("o-button",{staticClass:"preview-button",on:{click:function(i){return e.$emit("click:preview")}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.preview"))+`
		`)])],1),e._v(" "),t("o-form-item",{attrs:{errors:e.validationError,flush:!0}},[t("o-textarea",{staticClass:"form-textarea",on:{focus:function(i){return e.$emit("focus")}},model:{value:e.inputValue,callback:function(i){e.inputValue=i},expression:"inputValue"}}),e._v(" "),t("template",{slot:"sublabel"},[t("div",{staticClass:"sublabel"},[t("span",[t("span",{class:{highlight:e.shouldShowTip,error:e.validationError}},[e._v(`
						`+e._s(e.inputValue.length)+`
					`)]),e._v(" / "+e._s(e.softLimit)+`
				`)]),e._v(" "),e.shouldShowReset?t("o-button",{attrs:{variant:"text"},on:{click:e.handleResetClick}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.common.reset"))+`
				`)]):e._e()],1)])],2),e._v(" "),e.shouldShowTip?t("pro-tip-alert",{attrs:{"tip-text":e.tipText}}):e._e()],1)},wi=[],Ti=_(879),Mi=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"tip-block"},[t("img",{staticClass:"tip-icon",attrs:{src:e.assetify("/images/commerce/store-app/star-icon.svg")}}),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.tipText)}})])},Ai=[],Di={name:"ProTipAlert",props:{tipText:{type:String,required:!0}},methods:{assetify:n.assetify}},Bi=Di,Hc=_(1812),Ri=Object(I.a)(Bi,Mi,Ai,!1,null,"1c216e4a",null),ki=Ri.exports,Fi={name:"FormItem",components:{OSection:$.OSection,OTextarea:Ti.OTextarea,OFormItem:N.OFormItem,OButton:T.OButton,ProTipAlert:ki},props:{label:{type:String,required:!0},labelInfo:{type:String,required:!0},softLimit:{type:Number,required:!0},hardLimit:{type:Number,required:!0},value:{type:String,required:!0},default:{type:String,required:!0},learnMoreLink:{type:String,required:!1,default:""}},computed:{inputValue:{get(){return this.value},set(e){this.$emit("input",e)}},shouldShowTip(){return this.value.length>=this.softLimit||this.value.length===0},tipText(){return this.value.length>=this.softLimit?Object(n.utl)("ecommerce.settings.dine_in.short_banner_tip"):this.value.length===0?Object(n.utl)("ecommerce.settings.dine_in.no_banner_tip"):""},validationError(){return this.value.length>=this.hardLimit?Object(n.utl)("ecommerce.settings.dine_in.banner_too_long_error"):""},shouldShowReset(){return this.value!==this.default}},watch:{validationError(){this.$emit("toggle:isValid",!this.validationError)}},methods:{assetify:n.assetify,handleResetClick(){this.$emit("input",this.default)}}},Ui=Fi,Wc=_(1813),Gi=Object(I.a)(Ui,Li,wi,!1,null,"27dff3b0",null),Ni=Gi.exports,$i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",[t("o-modal-pane",{attrs:{title:e.title}},[t("div",{staticClass:"preview-wrapper"},[t("mobile-preview",{attrs:{"visible-page":e.visiblePage,"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"enable-slider":!1,"fade-menu":e.fadeMenu}})],1)])],1)},Hi=[],Wi={components:{OModal:f.OModal,OModalPane:f.OModalPane,MobilePreview:he},props:{title:{type:String,required:!0},visiblePage:{type:Number,required:!0},menuBanner:{type:String,required:!1,default:""},checkoutBanner:{type:String,required:!1,default:""},fadeMenu:{type:Boolean,default:!0}}},zi=Wi,zc=_(1814),Vi=Object(I.a)(zi,$i,Hi,!1,null,"3828c11e",null),be=Vi.exports,Ki=Object.defineProperty,_t=Object.getOwnPropertySymbols,Qi=Object.prototype.hasOwnProperty,Zi=Object.prototype.propertyIsEnumerable,nt=(e,s,t)=>s in e?Ki(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,qi=(e,s)=>{for(var t in s||(s={}))Qi.call(s,t)&&nt(e,t,s[t]);if(_t)for(var t of _t(s))Zi.call(s,t)&&nt(e,t,s[t]);return e},Yi={name:"EditBannerSection",components:{OGrid:z.OGrid,OGridItem:z.OGridItem,OForm:N.OForm,OToggle:Q.OToggle,MobilePreview:he,FormItem:Ni},inject:{modalLayer:f.ModalLayer},props:{menuBanner:{type:String,required:!0},checkoutBanner:{type:String,required:!0},unavailableBanner:{type:String,required:!0},displayOrderResumption:{type:Boolean,required:!0}},data(){return{currentPreview:ae,toggleValue:this.displayOrderResumption,MENU_BANNER_SOFT_LIMIT:Js,CHECKOUT_BANNER_SOFT_LIMIT:e_,UNAVAILABLE_BANNER_SOFT_LIMIT:t_,MENU_BANNER_HARD_LIMIT:s_,CHECKOUT_BANNER_HARD_LIMIT:__,UNAVAILABLE_BANNER_HARD_LIMIT:n_,MENU_PREVIEW_PAGE:ae,CHECKOUT_PREVIEW_PAGE:Ie,RESUMPTION_PREVIEW_PAGE:i_,SELF_SERVE_HELP_ARTICLE_URL:Le,MENU_BANNER_DEFAULT:de,CHECKOUT_BANNER_DEFAULT:ce,UNAVAILABLE_BANNER_DEFAULT:xe}},computed:qi({},Object(o.mapGetters)(r.e,{canUseSSOBusinessHours:"canUseSSOBusinessHours"})),methods:{onFocus(e){this.currentPreview=e},handleCheckoutBannerChange(e){this.$emit("update:checkoutBanner",e)},handleMenuBannerChange(e){this.$emit("update:menuBanner",e)},handleUnavailableBannerChange(e){this.$emit("update:unavailableBanner",e)},handleShowResumptionToggle(e){this.$emit("update:showOrderResumption",e)},setValidation(e){this.$emit("toggle:isValid",e)},openMenuPreviewInModal(){this.modalLayer.open(be,{props:{title:Object(n.utl)("ecommerce.settings.dine_in.menu_banner_form_label"),visiblePage:ae,menuBanner:this.menuBanner}})},openCheckoutPreviewInModal(){this.modalLayer.open(be,{props:{title:Object(n.utl)("ecommerce.settings.dine_in.checkout_banner_form_label"),visiblePage:Ie,checkoutBanner:this.checkoutBanner}})}}},Xi=Yi,Vc=_(1815),Ji=Object(I.a)(Xi,Gn,Nn,!1,null,"4f438a60",null),it=Ji.exports,er=Object.defineProperty,tr=Object.defineProperties,sr=Object.getOwnPropertyDescriptors,rt=Object.getOwnPropertySymbols,_r=Object.prototype.hasOwnProperty,nr=Object.prototype.propertyIsEnumerable,at=(e,s,t)=>s in e?er(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ot=(e,s)=>{for(var t in s||(s={}))_r.call(s,t)&&at(e,t,s[t]);if(rt)for(var t of rt(s))nr.call(s,t)&&at(e,t,s[t]);return e},ir=(e,s)=>tr(e,sr(s)),rr=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),lt={data(){return{savingBanners:!1,menuBanner:de,checkoutBanner:ce,unavailableBanner:xe,displayOrderResumption:!0,hasValidBanners:!0}},computed:ot({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),methods:ir(ot({},Object(o.mapActions)(r.e,["createOrUpdateDineInSettings","setDineInEnabled"])),{handleMenuBannerChange(e){this.menuBanner=e},handleCheckoutBannerChange(e){this.checkoutBanner=e},handleUnavailableBannerChange(e){this.unavailableBanner=e},handleOrderResumptionToggle(e){this.displayOrderResumption=e},setValidation(e){this.hasValidBanners=e},saveBanners(){return rr(this,null,function*(){return yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:{menu_banner:this.menuBanner,checkout_banner:this.checkoutBanner,unavailable_banner:this.unavailableBanner,display_order_resumption:this.displayOrderResumption}}),!0})}})},ar=Object.defineProperty,dt=Object.getOwnPropertySymbols,or=Object.prototype.hasOwnProperty,lr=Object.prototype.propertyIsEnumerable,ct=(e,s,t)=>s in e?ar(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,dr=(e,s)=>{for(var t in s||(s={}))or.call(s,t)&&ct(e,t,s[t]);if(dt)for(var t of dt(s))lr.call(s,t)&&ct(e,t,s[t]);return e},cr=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),ur={name:"EditBannerSheet",components:{OSheet:B.OSheet,OButton:T.OButton,ONotice:O.ONotice,EditBannerSection:it},mixins:[lt],data(){return{sheetError:""}},computed:dr({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),created(){if(this.location){const e=Object(P.get)(this.location,"dine_in_settings.menu_banner"),s=Object(P.get)(this.location,"dine_in_settings.checkout_banner"),t=Object(P.get)(this.location,"dine_in_settings.unavailable_banner"),i=Object(P.get)(this.location,"dine_in_settings.display_order_resumption",!0);e!=null&&(this.menuBanner=e),s!=null&&(this.checkoutBanner=s),t!=null&&(this.unavailableBanner=t),this.displayOrderResumption=!!i}},methods:{submit(e){return cr(this,null,function*(){try{this.savingBanners=!0,(yield this.saveBanners())&&e.close()}catch(s){this.sheetError=Object(n.utl)("ecommerce.settings.errors.request_generic")}finally{this.savingBanners=!1}})}}},pr=ur,Qc=_(1816),mr=Object(I.a)(pr,Fn,Un,!1,null,"1e990fda",null),vr=mr.exports,gr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal"},[t("o-modal-pane",{attrs:{title:e.title}},[t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close("Cancel")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_cancel_label"))+`
			`)]),e._v(" "),t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_save_label"))+`
			`)])],1),e._v(`

		`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_modal_description"))+`

		`),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[t("o-form-item",[t("o-button-group",{staticClass:"mt-4",attrs:{mode:"single-select-optional","full-width":""},model:{value:e.serviceFeeType,callback:function(i){e.serviceFeeType=i},expression:"serviceFeeType"}},[t("o-button-group-item",{attrs:{value:e.SERVICE_FEE_TYPES.FLAT}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_set_amount_label"))+`
					`)]),e._v(" "),t("o-button-group-item",{attrs:{value:e.SERVICE_FEE_TYPES.PERCENTAGE}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_percentage_label"))+`
					`)])],1)],1),e._v(" "),t("o-form-item",{attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_modal_notice"),errors:e.errors}},[e.serviceFeeType===e.SERVICE_FEE_TYPES.PERCENTAGE?t("percentage-input",{staticClass:"mt-2 mb-2 price-input",model:{value:e.serviceFeeAmount,callback:function(i){e.serviceFeeAmount=i},expression:"serviceFeeAmount"}}):e._e(),e._v(" "),e.serviceFeeType===e.SERVICE_FEE_TYPES.FLAT?t("currency-input",{staticClass:"mt-2 mb-2 price-input",model:{value:e.serviceFeeAmount,callback:function(i){e.serviceFeeAmount=i},expression:"serviceFeeAmount"}}):e._e()],1)],1)],2)],1)},fr=[],ye=_(229),hr=Object.defineProperty,br=Object.defineProperties,yr=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,pt=(e,s,t)=>s in e?hr(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,mt=(e,s)=>{for(var t in s||(s={}))Sr.call(s,t)&&pt(e,t,s[t]);if(ut)for(var t of ut(s))Or.call(s,t)&&pt(e,t,s[t]);return e},vt=(e,s)=>br(e,yr(s)),jr=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),Pr={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane,OButtonGroupItem:w.OButtonGroupItem,OButtonGroup:w.OButtonGroup,OForm:N.OForm,OFormItem:N.OFormItem,CurrencyInput:ye.b,PercentageInput:ye.d},data(){return{loading:!1,SERVICE_FEE_TYPES:W,serviceFeeAmount:0,serviceFeeType:W.FLAT,errors:[]}},computed:vt(mt({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{dineInSettings(){return this.location.dine_in_settings},title(){return`${Object(n.utl)("ecommerce.settings.dine_in.service_fee_settings_modal_title")} ${this.location.display_name}`}}),mounted(){this.dineInSettings.service_fee_type!==W.NONE&&(this.serviceFeeType=this.dineInSettings.service_fee_type,this.serviceFeeAmount=parseFloat(this.dineInSettings.service_fee))},methods:vt(mt({},Object(o.mapActions)(r.e,["createOrUpdateDineInSettings"])),{handleClick(){return jr(this,null,function*(){if(this.loading=!0,this.validate()){(!this.serviceFeeAmount||Number.isNaN(this.serviceFeeAmount))&&(this.serviceFeeAmount=0);const s={service_fee_type:this.serviceFeeAmount>0?this.serviceFeeType:W.NONE,service_fee:parseFloat(this.serviceFeeAmount).toFixed(2)};try{yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:s}),this.$refs.modal.close("Submit")}catch(t){this.errors.push(Object(n.utl)("ecommerce.settings.dine_in.service_fee_settings_error_invalid"))}}this.loading=!1})},validate(){return this.errors=[],this.serviceFeeType===W.PERCENTAGE&&this.serviceFeeAmount>100&&this.errors.push(Object(n.utl)("ecommerce.settings.errors.percentage_over_max_value")),this.serviceFeeType===W.FLAT&&this.serviceFeeAmount>=we&&this.errors.push(Object(n.utl)("ecommerce.settings.errors.enter_value_lower_than",we)),this.errors.length===0}})},Cr=Pr,Zc=_(1817),Er=Object(I.a)(Cr,gr,fr,!1,null,"7289da5c",null),Ir=Er.exports,xr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal"},[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_modal_title")}},[t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close("Cancel")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_cancel_label"))+`
			`)]),e._v(" "),t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_save_label"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"section-description mb-1"},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_modal_description"))+`
		`)]),e._v(" "),t("o-toggle",{model:{value:e.alcoholEnabled,callback:function(i){e.alcoholEnabled=i},expression:"alcoholEnabled"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_enable_label"))+`
		`)]),e._v(" "),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[e.alcoholEnabled?t("o-form-item",{staticClass:"mb-1"},[t("div",{staticClass:"section-description mt-2 mb-1"},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_limit_description"))+`
				`)]),e._v(" "),t("o-checkbox",{ref:"alcohol-max-checkbox",staticClass:"mb-2 price-input",model:{value:e.alcoholMaxEnabled,callback:function(i){e.alcoholMaxEnabled=i},expression:"alcoholMaxEnabled"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_set_alcohol_max"))+`
				`)])],1):e._e(),e._v(" "),e.alcoholEnabled&&e.alcoholMaxEnabled?t("o-form-item",{attrs:{errors:e.errors}},[t("number-input",{staticClass:"mt-2 mb-2 limit-input",model:{value:e.alcoholMax,callback:function(i){e.alcoholMax=i},expression:"alcoholMax"}})],1):e._e()],1)],2)],1)},Lr=[],wr=_(122),Tr=Object.defineProperty,Mr=Object.defineProperties,Ar=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,ft=(e,s,t)=>s in e?Tr(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ht=(e,s)=>{for(var t in s||(s={}))Dr.call(s,t)&&ft(e,t,s[t]);if(gt)for(var t of gt(s))Br.call(s,t)&&ft(e,t,s[t]);return e},bt=(e,s)=>Mr(e,Ar(s)),Rr=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),kr={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane,OCheckbox:wr.OCheckbox,OForm:N.OForm,OFormItem:N.OFormItem,OToggle:Q.OToggle,NumberInput:ye.c},data(){return{loading:!1,errors:[],alcoholEnabled:!1,alcoholMax:null,alcoholMaxEnabled:!1}},computed:bt(ht({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{dineInSettings(){return this.location.dine_in_settings}}),mounted(){this.alcoholEnabled=this.dineInSettings.alcohol_enabled,this.alcoholMax=this.dineInSettings.alcohol_max_per_order||1,this.alcoholMaxEnabled=this.dineInSettings.alcohol_max_per_order>0},methods:bt(ht({},Object(o.mapActions)(r.e,["createOrUpdateDineInSettings"])),{handleClick(){return Rr(this,null,function*(){if(this.loading=!0,this.validate()){const e={alcohol_enabled:this.alcoholEnabled,alcohol_max_per_order:this.alcoholMaxEnabled&&this.alcoholEnabled?this.alcoholMax:null};try{yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:e}),this.$refs.modal.close("Submit")}catch(s){this.errors.push(Object(n.utl)("ecommerce.settings.dine_in.alcohol_settings_max_invalid"))}}this.loading=!1})},validate(){return this.errors=[],this.alcoholEnabled&&this.alcoholMaxEnabled&&!this.alcoholMax&&this.errors.push(Object(n.utl)("ecommerce.settings.dine_in.alcohol_settings_max_invalid",0)),this.errors.length===0}})},Fr=kr,qc=_(1818),Ur=Object(I.a)(Fr,xr,Lr,!1,null,"30b07fc9",null),Gr=Ur.exports,Nr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal",attrs:{"before-close":e.beforeClose}},[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_title")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_save"))+`
			`)])],1),e._v(" "),e.errorSaving?t("o-notice",{attrs:{type:"error",icon:"exclamation-triangle"}},[t("span",{staticClass:"error-message"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.generic_error"))+`
			`)])]):e._e(),e._v(" "),t("sms-alert-form",{on:{"update:settings":e.handleDineInSettingsChange}})],2)],1)},$r=[],Hr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",[t("div",{staticClass:"toggle-container"},[t("div",[t("p",{staticClass:"paragraph-medium-30"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_received_title"))+`
			`)]),e._v(" "),t("p",{staticClass:"paragraph-20 secondary-text"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_received_prompt"))+`
				`),t("span",{staticClass:"italics"},[t("i",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_received_example")))])])])]),e._v(" "),t("div",[t("o-toggle",{attrs:{checked:e.smsAlertOrderCreated},on:{"toggle:update":e.onSmsOrderCreatedChange}})],1)]),e._v(" "),t("div",{staticClass:"toggle-container"},[t("div",[t("p",{staticClass:"paragraph-medium-30"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_prepared_title"))+`
			`)]),e._v(" "),t("p",{staticClass:"paragraph-20 secondary-text"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_prepared_prompt"))+`
				`),t("a",{attrs:{target:"_blank",href:"https://squareup.com/help/us/en/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online#06ab8f64447847cde2c60f076bcae17f"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_learn_more"))+`
				`)]),e._v(" "),t("span",{staticClass:"italics"},[t("i",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_prepared_example")))])])])]),e._v(" "),t("div",[t("o-toggle",{attrs:{checked:e.smsAlertOrderPrepared},on:{"toggle:update":e.onSmsOrderPreparedChange}})],1)])])},Wr=[],zr=Object.defineProperty,Vr=Object.defineProperties,Kr=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Qr=Object.prototype.hasOwnProperty,Zr=Object.prototype.propertyIsEnumerable,St=(e,s,t)=>s in e?zr(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Ot=(e,s)=>{for(var t in s||(s={}))Qr.call(s,t)&&St(e,t,s[t]);if(yt)for(var t of yt(s))Zr.call(s,t)&&St(e,t,s[t]);return e},jt=(e,s)=>Vr(e,Kr(s)),qr={name:"SmsAlertForm",components:{OSection:$.OSection,OToggle:Q.OToggle},props:{},data(){return{loading:!1,errors:[],smsCreatedAlertEnabledOriginal:void 0,smsPreparedAlertEnabledOriginal:void 0}},computed:jt(Ot({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{smsAlertOrderCreated:{get(){return Boolean(Object(P.get)(this.location,"dine_in_settings.sms_alert_order_created_enabled",!1))},set(e){this.setSmsCreatedAlertEnabled(e),this.handleSettingsChange()}},smsAlertOrderPrepared:{get(){return Boolean(Object(P.get)(this.location,"dine_in_settings.sms_alert_order_prepared_enabled",!1))},set(e){this.setSmsPreparedAlertEnabled(e),this.handleSettingsChange()}},dineInSettingChanges(){const e={};if(this.smsCreatedAlertEnabledOriginal!==this.smsAlertOrderCreated&&(e.sms_alert_order_created_enabled=this.smsAlertOrderCreated?1:0),this.smsPreparedAlertEnabledOriginal!==this.smsAlertOrderPrepared&&(e.sms_alert_order_prepared_enabled=this.smsAlertOrderPrepared?1:0),Object.keys(e).length>0)return e},originalDineInSettings(){return{sms_alert_order_created_enabled:this.smsCreatedAlertEnabledOriginal,sms_alert_order_prepared_enabled:this.smsPreparedAlertEnabledOriginal}}}),watch:{location(e){let s;this.smsCreatedAlertEnabledOriginal===void 0&&(s=Object(P.get)(e,"dine_in_settings.sms_alert_order_created_enabled",void 0),s!==void 0&&(this.smsCreatedAlertEnabledOriginal=Boolean(s))),this.smsPreparedAlertEnabledOriginal===void 0&&(s=Object(P.get)(e,"dine_in_settings.sms_alert_order_prepared_enabled",void 0),s!==void 0&&(this.smsPreparedAlertEnabledOriginal=Boolean(s)))}},mounted(){this.smsCreatedAlertEnabledOriginal=Object(P.get)(this.location,"dine_in_settings.sms_alert_order_created_enabled",void 0),this.smsPreparedAlertEnabledOriginal=Object(P.get)(this.location,"dine_in_settings.sms_alert_order_prepared_enabled",void 0),this.handleSettingsChange()},methods:jt(Ot({},Object(o.mapActions)(r.e,["setSmsCreatedAlertEnabled","setSmsPreparedAlertEnabled"])),{onSmsOrderCreatedChange(){this.smsAlertOrderCreated=!this.smsAlertOrderCreated},onSmsOrderPreparedChange(){this.smsAlertOrderPrepared=!this.smsAlertOrderPrepared},handleSettingsChange(){this.$emit("update:settings",{changes:this.dineInSettingChanges,original:this.originalDineInSettings})}})},Yr=qr,Yc=_(1819),Xr=Object(I.a)(Yr,Hr,Wr,!1,null,"72b679fa",null),Pt=Xr.exports,Jr=Object.defineProperty,ea=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,sa=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,Et=(e,s,t)=>s in e?Jr(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,It=(e,s)=>{for(var t in s||(s={}))sa.call(s,t)&&Et(e,t,s[t]);if(Ct)for(var t of Ct(s))_a.call(s,t)&&Et(e,t,s[t]);return e},na=(e,s)=>ea(e,ta(s)),ia=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),ra={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane,ONotice:O.ONotice,SmsAlertForm:Pt},data(){return{loading:!1,errorSaving:!1,dineInSettingChanges:void 0,dineInSettingOriginal:void 0}},computed:It({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),methods:na(It({},Object(o.mapActions)(r.e,["createOrUpdateDineInSettings","setSmsCreatedAlertEnabled","setSmsPreparedAlertEnabled"])),{handleDineInSettingsChange({changes:e,original:s}){this.dineInSettingChanges=e,this.dineInSettingOriginal=s},beforeClose(e,s){if(!e&&this.dineInSettingOriginal){const{sms_alert_order_created_enabled:t,sms_alert_order_prepared_enabled:i}=this.dineInSettingOriginal;this.setSmsCreatedAlertEnabled(t),this.setSmsPreparedAlertEnabled(i)}s()},handleClick(){return ia(this,null,function*(){if(this.dineInSettingChanges)try{this.loading=!0,this.dineInSettingChanges.sms_alert_order_created_enabled!==void 0&&Object(d.Q)(Boolean(this.dineInSettingChanges.sms_alert_order_created_enabled)),this.dineInSettingChanges.sms_alert_order_prepared_enabled!==void 0&&Object(d.P)(Boolean(this.dineInSettingChanges.sms_alert_order_prepared_enabled)),yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:this.dineInSettingChanges}),this.errorSaving=!1,this.$refs.modal.close("Submit")}catch(e){this.errorSaving=!0}finally{this.loading=!1}else this.$refs.modal.close("Submit")})}})},aa=ra,Xc=_(1820),oa=Object(I.a)(aa,Nr,$r,!1,null,"40d30d50",null),la=oa.exports,da=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal"},[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_modal_title")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_save_label"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"section-description mb-1"},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_modal_description"))+`
		`)]),e._v(" "),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[t("o-form-item",{staticClass:"mb-1"},[t("o-radio",{ref:"ticket-printing-immediately",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately_sublabel"),value:!0},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"ticket-timing-label"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately"))+`
					`)])])],1),e._v(" "),t("o-form-item",{staticClass:"mb-1"},[t("o-radio",{ref:"ticket-printing-wait",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait_sublabel"),value:!1},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"ticket-timing-label"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait"))+`
					`)])])],1),e._v(" "),e.printImmediately===!1?t("div",[t("div",{staticClass:"mt-2 mb-2"},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_duration_description"))+`
				`)]),e._v(" "),t("o-select",{staticClass:"timing-select",attrs:{options:e.options},model:{value:e.currentDuration,callback:function(i){e.currentDuration=i},expression:"currentDuration"}})],1):e._e()],1)],2)],1)},ca=[],xt=_(351),ua=Object.defineProperty,pa=Object.defineProperties,ma=Object.getOwnPropertyDescriptors,Lt=Object.getOwnPropertySymbols,va=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,wt=(e,s,t)=>s in e?ua(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Tt=(e,s)=>{for(var t in s||(s={}))va.call(s,t)&&wt(e,t,s[t]);if(Lt)for(var t of Lt(s))ga.call(s,t)&&wt(e,t,s[t]);return e},Mt=(e,s)=>pa(e,ma(s)),fa=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),ha={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane,ORadio:xt.ORadio,OForm:N.OForm,OFormItem:N.OFormItem,OSelect:ue.OSelect},data(){return{loading:!1,errors:[],printImmediately:!1,options:r.c,currentDuration:0}},computed:Mt(Tt({},Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{dineInSettings(){return this.location.dine_in_settings}}),mounted(){this.printImmediately=this.dineInSettings.ticket_printing_consolidation_seconds===0,this.currentDuration=this.dineInSettings.ticket_printing_consolidation_seconds||30},methods:Mt(Tt({},Object(o.mapActions)(r.e,["createOrUpdateDineInSettings"])),{handleClick(){return fa(this,null,function*(){this.loading=!0;try{const e={ticket_printing_consolidation_seconds:this.printImmediately?0:this.currentDuration};yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:e}),this.$refs.modal.close("Submit")}catch(e){}this.loading=!1})}})},ba=ha,Jc=_(1821),ya=Object(I.a)(ba,da,ca,!1,null,"55a05502",null),Sa=ya.exports,Oa=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-alert",e._g({ref:"alert",attrs:{title:e.title}},e.$listeners),[t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.alert.close()}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.publish_now_modal_skip_button"))+`
		`)]),e._v(" "),t("o-button",{attrs:{variant:"primary"},on:{click:e.buttonClick}},[e._v(`
			`+e._s(e.buttonText)+`
		`)])],1),e._v(" "),t("div",[e._v(`
		`+e._s(e.body)+`
	`)])],2)},ja=[],Pa={components:{OButton:T.OButton,OAlert:D.OAlert},mixins:[se],data(){return{title:Object(n.utl)("ecommerce.settings.dine_in.publish_now_alert_title"),body:Object(n.utl)("ecommerce.settings.dine_in.publish_now_alert_body"),buttonText:Object(n.utl)("ecommerce.settings.dine_in.publish_now_alert_publish_button"),buttonClick:this.onGoToWebsite}},created(){this.isSitePublished&&!this.isStoreOrderOnline&&(this.title=Object(n.utl)("ecommerce.settings.dine_in.switch_template_order_online_title"),this.body=Object(n.utl)("ecommerce.settings.dine_in.switch_template_order_online_body"),this.buttonText=Object(n.utl)("ecommerce.settings.dine_in.go_to_editor"),this.buttonClick=this.enableOrderOnline)}},Ca=Pa,Ea=Object(I.a)(Ca,Oa,ja,!1,null,null,null),At=Ea.exports,Ia=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",{staticClass:"dine-in-blade-section"},[e.title?t("div",{staticClass:"dine-in-blade-section-heading"},[t("o-heading",{attrs:{size:"heading-20"}},[e._v(`
			`+e._s(e.title)+`
		`)]),e._v(" "),e.hideHeaderSlot?e._e():e._t("header-action",function(){return[t("o-button",{attrs:{variant:"text"},on:{click:function(i){return e.$emit("edit:click")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.edit"))+`
			`)])]})],2):e._e(),e._v(" "),e._t("default")],2)},xa=[],La={name:"DineInBladeSection",components:{OButton:T.OButton,OHeading:A.OHeading,OSection:$.OSection},props:{title:{type:String,required:!1,default:null},hideHeaderSlot:{type:Boolean,required:!1,default:!1}}},wa=La,eu=_(1822),Ta=Object(I.a)(wa,Ia,xa,!1,null,null,null),Ma=Ta.exports,Aa=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",{staticClass:"dine-in-blade-subsection"},[e.title?t("div",{staticClass:"dine-in-blade-section-heading"},[t("p",{staticClass:"paragraph-30"},[e._v(`
			`+e._s(e.title)+`
		`)]),e._v(" "),e.hideHeaderSlot?e._e():e._t("dine-in-section-header-action",function(){return[t("o-button",{attrs:{variant:"text"},on:{click:function(i){return e.$emit("edit:click")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.edit"))+`
			`)])]})],2):e._e(),e._v(" "),e._t("default")],2)},Da=[],Ba={name:"DineInBladeSubsection",components:{OButton:T.OButton,OSection:$.OSection},props:{title:{type:String,required:!1,default:null},hideHeaderSlot:{type:Boolean,required:!1,default:!1}}},Ra=Ba,tu=_(1823),ka=Object(I.a)(Ra,Aa,Da,!1,null,"38c1ed9e",null),Fa=ka.exports,Ua=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"setting-group-row"},[t("span",{staticClass:"setting-name"},[e._v(e._s(e.label))]),e._v(" "),t("span",{staticClass:"setting-value"},[e._v(e._s(e.value))])])},Ga=[],Na={name:"DineInBladeSettingRow",props:{label:{type:String,required:!0},value:{type:String,required:!0}}},$a=Na,su=_(1824),Ha=Object(I.a)($a,Ua,Ga,!1,null,"1b4665b2",null),Wa=Ha.exports,za=Object.defineProperty,Va=Object.defineProperties,Ka=Object.getOwnPropertyDescriptors,Dt=Object.getOwnPropertySymbols,Qa=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Bt=(e,s,t)=>s in e?za(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,_e=(e,s)=>{for(var t in s||(s={}))Qa.call(s,t)&&Bt(e,t,s[t]);if(Dt)for(var t of Dt(s))Za.call(s,t)&&Bt(e,t,s[t]);return e},Rt=(e,s)=>Va(e,Ka(s)),qa=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),Ya={name:"DineInSettingsBlade",components:{OBlade:X.OBlade,OButton:T.OButton,ODivider:Oe.ODivider,OToggle:Q.OToggle,TimeRangeWeekReadonly:qs,DineInBladeSection:Ma,DineInBladeSubsection:Fa,DineInBladeSettingRow:Wa},mixins:[se],inject:{sheetLayer:B.SheetLayer,modalLayer:f.ModalLayer,alertLayer:D.AlertLayer},props:{title:{type:String,required:!0}},data(){return{isOpenTabsSaving:!1}},computed:Rt(_e(_e(_e({},Object(o.mapGetters)(r.E,["hasAccessToOpenTabs"])),Object(o.mapGetters)(r.e,{location:"stagedStoreLocationClone",canUseSSOBusinessHours:"canUseSSOBusinessHours",canUseSSOSMSPickupAlerts:"canUseSSOSMSPickupAlerts"})),Object(o.mapState)(r.f,["orderPrintingConsolidation"])),{userLocale(){return this.$store.getters["user/getLocale"]||ks.a},showOrderConsolidation(){return this.orderPrintingConsolidation},shouldAllowOpenTabOrders(){return Object(P.get)(this.location,"dine_in_settings.opentab_enabled",!1)},seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},businessHours(){return Object(P.get)(this.location,"dine_in_settings.business_hours",{})},dineInSettings(){return this.location.dine_in_settings},menuBanner(){const e=Object(P.get)(this.location,"dine_in_settings.menu_banner",null);return typeof e=="string"?e:de},checkoutBanner(){const e=Object(P.get)(this.location,"dine_in_settings.checkout_banner",null);return typeof e=="string"?e:ce},serviceFee(){return this.dineInSettings.service_fee_type===W.FLAT?Object(n.formatCurrency)(this.dineInSettings.service_fee,this.userLocale):this.dineInSettings.service_fee_type===W.PERCENTAGE?`${Object(n.formatPercentage)(this.dineInSettings.service_fee/100)}`:Object(n.utl)("ecommerce.settings.dine_in.no_service_fee_label")},servingAlcoholStatus(){return this.dineInSettings.alcohol_enabled?Object(n.utl)("ecommerce.settings.dine_in.alcohol_settings_status_serving_alcohol"):Object(n.utl)("ecommerce.settings.dine_in.alcohol_settings_status_not_serving_alcohol")},ticketTimingStatus(){return this.dineInSettings.ticket_printing_consolidation_seconds===0?Object(n.utl)("ecommerce.settings.dine_in.ticket_timing_printing_immediately"):Object(n.utl)("ecommerce.settings.dine_in.ticket_timing_printing_wait")},servingAlcoholLimit(){return this.dineInSettings.alcohol_enabled?this.dineInSettings.alcohol_max_per_order?Object(n.utl)("ecommerce.settings.dine_in.alcohol_settings_alcohol_max",Object(n.formatNumber)(this.dineInSettings.alcohol_max_per_order)):Object(n.utl)("ecommerce.settings.dine_in.alcohol_settings_no_maximum"):""},smsOrderReceivedText(){return this.dineInSettings.sms_alert_order_created_enabled?Object(n.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_on_label"):Object(n.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_off_label")},smsOrderPreparedText(){return this.dineInSettings.sms_alert_order_prepared_enabled?Object(n.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_on_label"):Object(n.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_off_label")}}),watch:{$route(){this.$refs.dineInSettingsBlade.close()}},methods:Rt(_e(_e({},Object(o.mapMutations)(r.e,["stageStoreAddress"])),Object(o.mapActions)(r.e,["setOpenTabEnabled","updateLocation"])),{onTextMessageAlertEditClick(){Object(d.N)(),this.sheetLayer.open(la)},onEditBusinessHoursClick(){Object(d.A)(),this.sheetLayer.open(R_,{props:{location:this.location}})},onEditServiceFeeClick(){Object(d.E)(),this.modalLayer.open(Ir)},onEditAlcoholSettingsClick(){Object(d.z)(),this.modalLayer.open(Gr)},onEditStationGroupClick(){Object(d.D)(),this.sheetLayer.open(kn)},onEditBannerClick(){Object(d.B)(),this.sheetLayer.open(vr)},onEditTicketSettingsClick(){Object(d.C)(),this.modalLayer.open(Sa)},previewQrCode(){this.canOpenPreviewQrCode()?this.alertLayer.open(At):this.$emit("location-list-item:open-preview")},seatGroupCopy(e){return Object(n.utl)("ecommerce.settings.dine_in.seat_group_item",e.total_seats)},onOpenTabToggleChange(){return qa(this,null,function*(){this.isOpenTabsSaving=!0,Object(d.H)(!this.shouldAllowOpenTabOrders),this.setOpenTabEnabled(!this.shouldAllowOpenTabOrders),yield this.updateLocation(this.location),this.isOpenTabsSaving=!1})}})},Xa=Ya,_u=_(1825),Ja=Object(I.a)(Xa,Bs,Rs,!1,null,"09507280",null),eo=Ja.exports,to=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("wizard",e._g({ref:"wizard",attrs:{loading:e.isSaving,"has-backdrop":!1,"allow-next":e.allowNext,"finish-button-disabled":!e.hasAtleastOneSeatGroup},on:{"wizard:finish":e.onWizardFinish,"wizard:next-step":e.onWizardNext},scopedSlots:e._u([{key:"stepper",fn:function(){return[t("div",[t("p",{staticClass:"dine-in-wizard-stepper"},[e._v(`
				`+e._s(e.stepLabel(e.wizardStepNumber,e.wizardTotalSteps))+`
			`)]),e._v(" "),t("o-heading",[e._v(e._s(e.wizardTitle))])],1)]},proxy:!0}])},e.$listeners),[e._v(" "),t("wizard-step",[t("item-fulfillment-section",{attrs:{"on-update-selection-data":e.onUpdateSelectionData,"menu-banner":e.menuBanner},on:{"update:title":e.onUpdateTitle}})],1),e._v(" "),t("wizard-step",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.custom_banners_header"),validate:function(){return e.hasValidBanners}}},[t("edit-banner-section",{attrs:{"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"unavailable-banner":e.unavailableBanner,"display-order-resumption":e.displayOrderResumption,variant:"bordered"},on:{"update:menuBanner":e.handleMenuBannerChange,"update:checkoutBanner":e.handleCheckoutBannerChange,"update:unavailableBanner":e.handleUnavailableBannerChange,"update:showOrderResumption":e.handleOrderResumptionToggle,"toggle:isValid":e.setValidation}})],1),e._v(" "),t("wizard-step",{attrs:{validate:e.validateSeatGroups}},[e.wizardErrorMsg?t("o-notice",{staticClass:"wizard-notice small-section",attrs:{type:"error"}},[e._v(`
			`+e._s(e.wizardErrorMsg)+`
		`)]):e._e(),e._v(" "),t("seat-groups-section",{attrs:{"is-saving-seat-groups":e.isSavingSeatGroups},on:{"submit:addSeatGroup":function(i){return e.handleAddSeatGroup(i)&&e.setAllowNext(!0)},"submit:updateSeatGroup":e.handleUpdateSeatGroup,"submit:importSeatGroups":function(i){return e.handleDuplicateSeatGroups(i)&&e.setAllowNext(!0)},"click:delete":e.handleDeleteSeatGroup,"click:duplicate":e.handleDuplicateSeatGroups}})],1),e._v(" "),e.canUseSSOBusinessHours?t("wizard-step",{attrs:{validate:function(){return e.hasValidHours}}},[t("business-hours-form",{attrs:{hours:e.hours,timezone:e.timezone,"current-location-id":e.location.pickupLocationId,"display-locations-to-seed-from":!0},on:{"update:hours":e.onUpdateHours,"update:timezone":e.onUpdateTimezone}})],1):e._e(),e._v(" "),e.hasAccessToOpenTabs?t("wizard-step",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.wizard_settings_step_title")}},[t("o-section",[e.wizardErrorMsg?t("o-notice",{staticClass:"wizard-notice small-section",attrs:{type:"error"}},[e._v(`
				`+e._s(e.wizardErrorMsg)+`
			`)]):e._e(),e._v(" "),t("o-heading",{attrs:{size:"heading-20"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_settings_title"))+`
			`)]),e._v(" "),t("div",{staticClass:"toggle-container"},[t("div",[t("p",{staticClass:"paragraph-medium-30"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_settings_title"))+`
					`)]),e._v(" "),t("p",{staticClass:"paragraph-20 secondary-text"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_description"))+`
					`)])]),e._v(" "),t("div",[t("o-toggle",{attrs:{checked:e.shouldAllowOpenTabOrders},on:{"toggle:update":e.onToggleChange}})],1)])],1),e._v(" "),e.canUseSSOSMSPickupAlerts?t("o-divider"):e._e(),e._v(" "),e.canUseSSOSMSPickupAlerts?t("o-section",{staticClass:"section-padding"},[t("o-heading",{attrs:{size:"heading-20"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_title"))+`
			`)]),e._v(" "),t("sms-alert-form",{on:{"update:settings":e.handleDineInSettingsChange}})],1):e._e(),e._v(" "),e.showOrderConsolidation?t("o-divider"):e._e(),e._v(" "),e.showOrderConsolidation?t("o-section",{staticClass:"section-padding"},[t("o-heading",{attrs:{size:"title-3"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_title"))+`
			`)]),e._v(" "),t("div",[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_modal_description"))+`
			`)]),e._v(" "),t("o-form-item",[t("o-radio",{ref:"ticket-printing-immediately",staticClass:"timing-radio",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately_sublabel"),value:!0},on:{"radio:update":e.onTicketTimingChoiceChange},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"timing-radio-title"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately"))+`
					`)])])],1),e._v(" "),t("o-form-item",[t("o-radio",{ref:"ticket-printing-wait",staticClass:"timing-radio",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait_sublabel"),value:!1},on:{"radio:update":e.onTicketTimingChoiceChange},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"timing-radio-title"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait"))+`
					`)])])],1),e._v(" "),e.printImmediately===!1?t("div",{staticClass:"mt-3"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_duration_description"))+`
				`),t("o-select",{ref:"ticket-printing-duration",staticClass:"mt-1 timing-select",attrs:{options:e.options},on:{"select:update":e.onTicketTimingValueChange},model:{value:e.currentDuration,callback:function(i){e.currentDuration=i},expression:"currentDuration"}})],1):e._e()],1):e._e()],1):e._e()],1)},so=[],kt=_(944),Ft=_(95),_o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.isLoading?t("o-loading"):t("o-grid",{staticClass:"mt-3",attrs:{"vertical-align":"middle"}},[e.itemsTableVisible?t("o-grid-item",{staticClass:"full-height",attrs:{span:12,"tablet-landscape":7}},[t("o-section",{staticClass:"space-right"},[t("template",{slot:"description"},[e._v(`
				`+e._s(e.screenBody)+`
			`)]),e._v(" "),t("o-button",{staticClass:"preview-button",attrs:{variant:"secondary"},on:{click:e.openMenuPreviewInModal}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.preview"))+`
			`)]),e._v(" "),t("div",{staticClass:"item-selection"},[t("items-selector",{attrs:{"can-select-items":e.itemsTableSelectable,"is-select-all-available":!0,"is-using-infinite-scroll":!0,"is-searching-visible":!1,"visible-columns":e.visibleColumnsForItemSelection,"visible-filters":e.visibleFiltersForItemSelection,"externally-applied-filters":e.filters,"item-table-location":e.ITEM_TABLE_LOCATION_SHEET,"item-id-key":e.ITEM_ID_KEY,"hide-filter-tags":!e.itemsTableSelectable,"infinite-scroll-select-all-threshold":2},on:{"selection-data:update":e.onUpdateSelectionData}})],1)],2)],1):e._e(),e._v(" "),e.itemsTableVisible?e._e():t("o-grid-item",{staticClass:"no-item-section full-height",attrs:{span:12}},[e._v(`
		`+e._s(e.screenBody)+`
	`)]),e._v(" "),t("o-grid-item",{staticClass:"banner-preview full-height",attrs:{span:12,"tablet-landscape":e.previewLandscapeSize}},[t("div",{staticClass:"sticky"},[t("mobile-preview",{attrs:{"visible-page":e.MENU_PREVIEW_PAGE,"menu-banner":e.menuBanner,"enable-slider":!1,"active-border":!1}})],1)])],1)},no=[],io=_(1071),ro=_(1062),ne=_(16),ao=_(21),oo=Object.defineProperty,lo=Object.defineProperties,co=Object.getOwnPropertyDescriptors,Ut=Object.getOwnPropertySymbols,uo=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable,Gt=(e,s,t)=>s in e?oo(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Nt=(e,s)=>{for(var t in s||(s={}))uo.call(s,t)&&Gt(e,t,s[t]);if(Ut)for(var t of Ut(s))po.call(s,t)&&Gt(e,t,s[t]);return e},$t=(e,s)=>lo(e,co(s)),mo=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())});const vo="site_product_id";var go={components:{ItemsSelector:ro.a,OSection:$.OSection,MobilePreview:he,OGrid:z.OGrid,OGridItem:z.OGridItem,OButton:T.OButton,OLoading:oe.OLoading},inject:{modalLayer:f.ModalLayer},props:{onUpdateSelectionData:{type:Function,default:()=>{}},menuBanner:{type:String,required:!0}},data(){return{isLoading:!1,title:"",bodyText:"",visibleColumnsForItemSelection:{[ne.x]:!0,[ne.A]:!0},filters:Object(ne.ab)(),ITEM_TABLE_LOCATION_SHEET:io.b,ITEM_ID_KEY:vo,MENU_PREVIEW_PAGE:ae}},computed:$t(Nt({},Object(o.mapGetters)(["chamberSelectedSiteApiUrl","chamberCatalogSiteApiUrl"])),{previewLandscapeSize(){return this.itemsTableVisible?5:12},hasDineInItemsAdded(){return this.productSkuByFulfillmentCount.dine_in>0},hasItemsAdded(){return this.productSkuByFulfillmentCount.total>0},screenTitle(){return this.hasDineInItemsAdded?Object(n.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_title_with_SSO_items"):this.hasItemsAdded?Object(n.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_title"):Object(n.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_preview_caption")},screenBody(){return this.hasDineInItemsAdded?Object(n.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_description_with_SSO_items"):this.hasItemsAdded?Object(n.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_description"):Object(n.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_description_with_no_items")},itemsTableVisible(){return this.hasDineInItemsAdded||this.hasItemsAdded},itemsTableSelectable(){return this.hasItemsAdded&&!this.hasDineInItemsAdded},visibleFiltersForItemSelection(){return this.itemsTableSelectable?{[ne.i]:!0,[ne.n]:!0}:{}}}),created(){this.getProductCounts()},methods:$t(Nt({},Object(o.mapActions)(r.E,{fetchStoreInfo:"fetchStoreInfo"})),{newProduct(){this.$router.replace({name:l.F})},openMenuPreviewInModal(){this.modalLayer.open(be,{props:{title:Object(n.utl)("ecommerce.settings.dine_in.custom_banners_header"),visiblePage:this.MENU_PREVIEW_PAGE,menuBanner:this.menuBanner,enabledSlider:!1,activeBorder:!1}})},getProductCounts(){return mo(this,null,function*(){this.isLoading=!0;const e=yield this.fetchStoreInfo();e&&(this.isLoading=!1,this.productSkuByFulfillmentCount=e.product_sku_by_fulfillment_counts,this.hasDineInItemsAdded&&this.filters.fulfillment.push(ao.b),this.$emit("update:title",this.screenTitle))})}})},fo=go,nu=_(1826),ho=Object(I.a)(fo,_o,no,!1,null,"1146d213",null),bo=ho.exports,yo=Object.defineProperty,So=Object.defineProperties,Oo=Object.getOwnPropertyDescriptors,Ht=Object.getOwnPropertySymbols,jo=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable,Wt=(e,s,t)=>s in e?yo(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Y=(e,s)=>{for(var t in s||(s={}))jo.call(s,t)&&Wt(e,t,s[t]);if(Ht)for(var t of Ht(s))Po.call(s,t)&&Wt(e,t,s[t]);return e},zt=(e,s)=>So(e,Oo(s)),G=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())});const Vt="itemSteps",Kt="bannerStep",Qt="seatGroupStep",Zt="businessHoursStep",qt="settingsStep";let V=[Vt,Kt,Qt,qt];var Co={name:"DineInSetupWizard",components:{ONotice:O.ONotice,Wizard:kt.a,WizardStep:kt.b,OSection:$.OSection,OToggle:Q.OToggle,OFormItem:N.OFormItem,ORadio:xt.ORadio,OSelect:ue.OSelect,ODivider:Oe.ODivider,OHeading:A.OHeading,SeatGroupsSection:Ve,ItemFulfillmentSection:bo,EditBannerSection:it,BusinessHoursForm:Re,SmsAlertForm:Pt},mixins:[se,lt],inject:{sheetLayer:B.SheetLayer,alertLayer:D.AlertLayer,modalLayer:f.ModalLayer},data(){return{allowNext:!0,wizardErrorMsg:"",wizardTitle:"",wizardStepNumber:1,wizardTotalSteps:4,isSaving:!1,itemfulfillmentToDineInProductIds:{included_ids:[],excluded_ids:[]},appliedFilters:{},totalItemsSelected:0,timezone:U.c,hours:Ae.b,hasValidHours:!0,stepMapper:{[Vt]:{title:Object(n.utl)("ecommerce.settings.dine_in.select_items"),stepNumber:1},[Kt]:{title:Object(n.utl)("ecommerce.settings.dine_in.customize_messaging"),beforeEnterFn:()=>G(this,null,function*(){yield this.setItemFulfillment(),Object(d.M)()}),stepNumber:2},[Qt]:{title:Object(n.utl)("ecommerce.settings.dine_in.wizard_station_cards_step_title_updated"),beforeEnterFn:()=>G(this,null,function*(){yield this.setBanners(),Object(d.T)(),this.allowNext=!1}),stepNumber:3},[Zt]:{title:Object(n.utl)("ecommerce.settings.dine_in.set_business_hours"),beforeEnterFn:()=>{Object(d.L)()},stepNumber:4},[qt]:{title:Object(n.utl)("ecommerce.settings.dine_in.wizard_settings_step_title"),beforeEnterFn:()=>G(this,null,function*(){this.canUseSSOBusinessHours&&(yield this.setBusinessHours()),Object(d.S)()}),stepNumber:5}},printImmediately:!0,options:r.c,currentDuration:30,dineInSettingChanges:void 0}},computed:zt(Y(Y(Y(Y({},Object(o.mapGetters)(r.E,["hasAccessToOpenTabs"])),Object(o.mapGetters)(r.e,{isSitePublished:"isCurrentSitePublished",canUseSSOBusinessHours:"canUseSSOBusinessHours",canUseSSOSMSPickupAlerts:"canUseSSOSMSPickupAlerts"})),Object(o.mapGetters)(Ft.GLOBAL_POPPER_NS,["showScalableSetupOnboarding","isAutoGeneratedSite"])),Object(o.mapState)(r.f,["orderPrintingConsolidation"])),{shouldAllowOpenTabOrders:{get(){return Object(P.get)(this.location,"dine_in_settings.opentab_enabled",!1)},set(e){this.setOpenTabEnabled(e)}},showOrderConsolidation(){return this.orderPrintingConsolidation},hasAtleastOneSeatGroup(){const e=Object(P.get)(this.location,"dine_in_settings.seat_groups");return e&&e.length}}),mounted(){Object(d.Y)(),this.canUseSSOBusinessHours&&(V=[...V.slice(0,3),Zt,...V.slice(3)]),this.wizardTotalSteps=V.length,this.wizardTitle=this.stepMapper[V[0]].title,this.wizardStepNumber=this.stepMapper[V[0]].stepNumber,this.timezone=Object(P.get)(this.location,"dine_in_settings.timezone",U.c)},methods:zt(Y(Y({},Object(o.mapActions)(r.e,["setItemFulfillmentToDineInForProducts","setOpenTabEnabled","setDineInEnabled","createOrUpdateDineInSettings"])),Object(o.mapActions)(Ft.GLOBAL_POPPER_NS,["fetchGuides","fetchGoals"])),{onToggleChange(){this.shouldAllowOpenTabOrders=!this.shouldAllowOpenTabOrders,Object(d.H)(this.shouldAllowOpenTabOrders)},onTicketTimingChoiceChange(){return G(this,null,function*(){this.onTicketTimingChange(),Object(d.V)(!this.printImmediately)})},onTicketTimingValueChange(){return G(this,null,function*(){this.onTicketTimingChange(),Object(d.W)()})},onTicketTimingChange(){return G(this,null,function*(){const e={ticket_printing_consolidation_seconds:this.printImmediately?0:this.currentDuration};yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:e})})},handleDineInSettingsChange({changes:e}){this.dineInSettingChanges=e},onUpdateSelectionData(e){var s,t,i,v;e.totalItemsSelected>this.totalItemsSelected?Object(d.O)(!0):e.totalItemsSelected<this.totalItemsSelected&&Object(d.O)(!1),this.totalItemsSelected=(s=e.totalItemsSelected)!=null?s:0,this.itemfulfillmentToDineInProductIds.included_ids=(t=e.ids)!=null?t:void 0,this.itemfulfillmentToDineInProductIds.excluded_ids=(i=e.excludedIds)!=null?i:void 0,this.appliedFilters=(v=e.filters)!=null?v:{}},validateSeatGroups(){return!!this.hasAtleastOneSeatGroup},setAllowNext(e){this.allowNext=!!e},onWizardNext(e){return G(this,arguments,function*({stepIndex:s}){const t=this.stepMapper[V[s-1]];t.beforeEnterFn&&typeof t.beforeEnterFn=="function"&&(yield t.beforeEnterFn()),this.wizardStepNumber=t.stepNumber,this.wizardTitle=t.title})},onUpdateHours(e,s){this.hours=e,this.hasValidHours=s,this.setAllowNext(s)},onUpdateTitle(e){this.wizardTitle=e},onUpdateTimezone(e){this.timezone=e},setBusinessHours(){return G(this,null,function*(){yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:{business_hours:this.hours,timezone:this.timezone}})})},setItemFulfillment(){return G(this,null,function*(){if(this.itemfulfillmentToDineInProductIds.included_ids===void 0||this.itemfulfillmentToDineInProductIds.included_ids.length>0)try{this.isSaving=!0,yield this.setItemFulfillmentToDineInForProducts({siteProductIds:this.itemfulfillmentToDineInProductIds.included_ids,excludedProductIds:this.itemfulfillmentToDineInProductIds.excluded_ids,filters:this.appliedFilters,totalItemsSelected:this.totalItemsSelected})}catch(e){this.wizardErrorMsg=Object(n.utl)("ecommerce.settings.errors.request_generic")}finally{this.isSaving=!1}})},setBanners(){return G(this,null,function*(){try{this.isSaving=!0,yield this.saveBanners()}catch(e){this.wizardErrorMsg=Object(n.utl)("ecommerce.settings.errors.request_generic")}finally{this.isSaving=!1}})},onWizardFinish(e){return G(this,null,function*(){try{this.isSaving=!0,this.dineInSettingChanges&&(this.dineInSettingChanges.sms_alert_order_created_enabled!==void 0&&Object(d.Q)(Boolean(this.dineInSettingChanges.sms_alert_order_created_enabled)),this.dineInSettingChanges.sms_alert_order_prepared_enabled!==void 0&&Object(d.P)(Boolean(this.dineInSettingChanges.sms_alert_order_prepared_enabled)),yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:this.dineInSettingChanges})),yield this.setDineInEnabled(!0)}catch(s){this.wizardErrorMsg=Object(n.utl)("ecommerce.settings.errors.request_generic")}finally{this.isSaving=!1,this.onSaveSuccess(e)}})},onSaveSuccess(e){return G(this,null,function*(){this.canOpenPreviewQrCode()?this.alertLayer.open(At,{on:{close:this.closeWizard.bind(this,e)}}):this.closeWizard(e,!0)})},closeWizard(e,s=!1){(this.showScalableSetupOnboarding&&!this.isAutoGeneratedSite?this.fetchGoals:this.fetchGuides)(),e.close(s)},stepLabel(e,s){return Object(n.utl)("ecommerce.settings.dine_in.wizard_step_n_of_x",e,s)}})},Eo=Co,iu=_(1827),Io=Object(I.a)(Eo,to,so,!1,null,"3825e19a",null),Yt=Io.exports,xo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal"},e.$listeners),[t("o-modal-pane",{attrs:{title:e.translations.getQrCodeTitle,flush:""}},[t("PreviewModalPane",{attrs:{"location-id":e.locationId,"preview-selection":e.previewSelection},on:{"input:update":e.updatePreviewOption}}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.handleSSOSelection}},[e._v(`
				`+e._s(e.translations.selectDesignsAction)+`
			`)])],1)],2),e._v(" "),t("o-modal-pane",{attrs:{title:e.translations.getQrCodeTitle,flush:""}},[t("QRCodeDesignSelectionPane",{attrs:{"design-selection":e.qrCodeDesignSelection,address:e.address},on:{"input:update":e.updateDesignSelection}}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.handleDesignSelection}},[e._v(`
				`+e._s(e.primaryActionText)+`
			`)])],1)],2),e._v(" "),t("o-modal-pane",{attrs:{title:e.translations.getQrCodeTitle,flush:""}},[t("QRCodeSectionSelectionPane",{attrs:{"seat-groups":e.seatGroups,checked:e.checked,"export-error":e.exportError},on:{"section-selection:update":e.updateSectionSelection}}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.handleSeatSelection}},[e._v(`
				`+e._s(e.translations.downloadAction)+`
			`)])],1)],2)],1)},Lo=[],wo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"preview-container"},[t("div",{staticClass:"preview-modal-left"},[t("div",{staticClass:"desc-container"},[t("o-heading",{attrs:{size:"title-2"}},[e._v(`
					`+e._s(e.translations.previewTitle)+`
				`)]),e._v(" "),t("p",[e._v(e._s(e.translations.usePhonePrompt))])],1),e._v(" "),t("o-section",{attrs:{variant:"normal"}},[e.hasBesiEnabled?t("o-accordion",{attrs:{label:e.translations.moreOptionsButton,variant:"subtle","aria-label":e.translations.moreOptionsButton},on:{click:e.toggleOptionsVisibility}},[t("o-accordion-item",{staticClass:"preview-accordion"},[t("o-radio-group",{model:{value:e.previewSelectionModel,callback:function(i){e.previewSelectionModel=i},expression:"previewSelectionModel"}},[t("o-radio",{attrs:{sublabel:e.translations.uniqueCodeInstructions,value:e.SSO}},[e._v(`
								`+e._s(e.translations.prefillLocationLabel)+`
							`)]),e._v(" "),t("o-radio",{attrs:{sublabel:e.translations.sameQrCodeInstructions,value:e.BESI}},[e._v(`
								`+e._s(e.translations.manualEnterInstructions)+`
							`)])],1)],1)],1):e._e()],1)],1),e._v(" "),t("div",{staticClass:"preview-modal-right"},[e.isLoading?t("o-loading",{staticClass:"loading"}):t("div",{staticClass:"preview-right-container"},[t("img",{attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr-code-preview-outline.svg")}}),e._v(" "),t("p",{staticClass:"mb-4 scan-preview"},[e._v(`
					`+e._s(e.scanPreviewPromptText)+`
				`)]),e._v(" "),t("q-r-preview-section",{attrs:{"has-error":e.qrCodeError,label:e.label,"qr-svg-preview":e.qrSvgPreview},on:{click:e.linkToQrLink}})],1)],1)])])},To=[],le=_(874),Mo=_(886),Ao=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"qrSvgContainer",on:{click:function(i){return e.$emit("click")}}},[e.hasError?t("img",{staticClass:"qrSvg",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr_preview_sample.svg")}}):t("div",{staticClass:"qrSvg",domProps:{innerHTML:e._s(e.qrSvgPreview)}}),e._v(" "),t("p",{staticClass:"qrSvgText"},[e._v(`
		`+e._s(""+e.label)+`
	`)])])},Do=[],Bo={name:"QRPreviewSection",props:{qrSvgPreview:{type:String,required:!0},label:{type:String,default:""},hasError:{type:Boolean,default:!1}}},Ro=Bo,ru=_(1828),ko=Object(I.a)(Ro,Ao,Do,!1,null,"c2eb2e36",null),Fo=ko.exports,Uo=Object.defineProperty,Go=Object.defineProperties,No=Object.getOwnPropertyDescriptors,Xt=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,Jt=(e,s,t)=>s in e?Uo(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,es=(e,s)=>{for(var t in s||(s={}))$o.call(s,t)&&Jt(e,t,s[t]);if(Xt)for(var t of Xt(s))Ho.call(s,t)&&Jt(e,t,s[t]);return e},ts=(e,s)=>Go(e,No(s)),Wo=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())});const zo={previewTitle:Object(n.utl)("ecommerce.settings.dine_in.preview_title"),usePhonePrompt:Object(n.utl)("ecommerce.settings.dine_in.use_phone_prompt"),moreOptionsButton:Object(n.utl)("ecommerce.settings.dine_in.more_options"),uniqueCodeInstructions:Object(n.utl)("ecommerce.settings.dine_in.unique_qr_code_instructions"),prefillLocationLabel:Object(n.utl)("ecommerce.settings.dine_in.prefill_location_label"),sameQrCodeInstructions:Object(n.utl)("ecommerce.settings.dine_in.same_qr_code_instructions"),manualEnterInstructions:Object(n.utl)("ecommerce.settings.dine_in.manual_enter_station_instructions"),scanPreviewPrompt:Object(n.utl)("ecommerce.settings.dine_in.scan_preview_prompt")};var Vo={components:{OAccordion:Mo.OAccordion,OSection:$.OSection,OHeading:A.OHeading,OLoading:oe.OLoading,ORadioGroup:le.ORadioGroup,ORadio:le.ORadio,QRPreviewSection:Fo},props:{locationId:{type:String,required:!0},previewSelection:{type:String,required:!0}},data(){return{qrCodeError:!1,qrSvgPreview:"",qrLink:"",label:"Table 1",isLoading:!1,isOptionsExpanded:!0,BESI:k.a,SSO:k.b,translations:zo}},computed:ts(es({},Object(o.mapGetters)("storefront",["hasBesiEnabled"])),{arrowIcon(){return this.isOptionsExpanded?"arrow-up":"arrow-down"},isBESISelected(){return this.previewSelectionModel===k.a},previewSelectionModel:{get(){return this.previewSelection},set(e){this.$emit("input:update",e)}},scanPreviewPromptText(){return this.translations.scanPreviewPrompt.toUpperCase()}}),watch:{previewSelectionModel(e){this.loadQrPreview(),this.emitQRCodeSelectionTracking(e)}},created(){this.loadQrPreview(),this.emitQRCodeSelectionTracking(this.previewSelectionModel)},methods:ts(es({utl:n.utl},Object(o.mapActions)(r.e,["exportQRCodes"])),{emitQRCodeSelectionTracking(e){e===k.a?Object(d.y)():e===k.b&&Object(d.x)()},toggleOptionsVisibility(){this.isOptionsExpanded=!this.isOptionsExpanded},linkToQrLink(){window.open(this.qrLink,"_blank"),window.opener=null},loadQrPreview(){return Wo(this,null,function*(){this.isLoading=!0;try{this.qrCodeError=!1;const e=yield this.exportQRCodes({exportAs:k.d,storeLocationId:this.locationId,isSynchronous:!0,isBESI:this.isBESISelected}),s=Object(P.get)(e,"data",null);if(!s){this.qrCodeError=!0;return}this.qrSvgPreview=s.qrCode,this.qrLink=s.qrCodeLink,this.label=this.isBESISelected?"":s.qrCodeLabel}catch(e){this.qrCodeError=!0}finally{this.isLoading=!1}})}})},Ko=Vo,au=_(1829),Qo=Object(I.a)(Ko,wo,To,!1,null,"2e58e308",null),Zo=Qo.exports,qo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"preview-container"},[t("div",{staticClass:"preview-modal-left"},[t("o-heading",{attrs:{size:"title-2"}},[e._v(`
				`+e._s(e.translations.selectDesignHeading)+`
			`)]),e._v(" "),t("o-section",{attrs:{variant:"normal"}},[t("p",[e._v(e._s(e.translations.selectDesignDescription))]),e._v(" "),t("o-radio-group",{model:{value:e.designSelectionModel,callback:function(i){e.designSelectionModel=i},expression:"designSelectionModel"}},[t("o-radio",{attrs:{sublabel:e.translations.orderCardSublabel,value:e.OrderingCard}},[e._v(`
						`+e._s(e.translations.orderCardDescription)+`
					`)]),e._v(" "),t("o-radio",{attrs:{sublabel:e.translations.qrCodeOnlySublabel,value:e.QRCodeOnly}},[e._v(`
						`+e._s(e.translations.qrCodeOnlyDescription)+`
					`)])],1)],1)],1),e._v(" "),t("div",{staticClass:"preview-modal-right"},[e.designSelection==e.OrderingCard?t("div",{staticClass:"ordering-card"},[e._v(`
				`+e._s(e.translations.sampleOrderingCardName)+`

				`),t("h1",[e._v(e._s(e.translations.sampleOrderingCardPhonePrompt)),t("br"),e._v(e._s(e.translations.sampleOrderingCardNoAppLabel))]),e._v(" "),t("div",{staticClass:"order-card-rule-section"},[t("img",{staticClass:"order-card-code",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/example-QR-code.svg")}}),e._v(" "),t("p",[e._v(e._s(e.translations.sampleOrderingCardTitle))]),e._v(" "),t("ul",{staticClass:"card-example-instructions"},[t("li",[e._m(0),e._v(`
							`+e._s(e.translations.sampleOrderingCardInstruction1)+`
						`)]),e._v(" "),t("li",[e._m(1),e._v(`
							`+e._s(e.translations.sampleOrderingCardInstruction2)+`
						`)]),e._v(" "),t("li",[e._m(2),e._v(`
							`+e._s(e.translations.sampleOrderingCardInstruction3)+`
						`)])])]),e._v(" "),t("p",[e._v(e._s(e.translations.sampleOrderingCardOrderAgainPrompt))]),e._v(" "),t("img",{staticClass:"square-logo",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/checkout/square-logo.svg")}})]):t("img",{staticClass:"qr-code",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/example-QR-code.svg")}})])])])},Yo=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("span",[e._v("1")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("span",[e._v("2")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("span",[e._v("3")])])}],Xo=Object.defineProperty,Jo=Object.defineProperties,el=Object.getOwnPropertyDescriptors,ss=Object.getOwnPropertySymbols,tl=Object.prototype.hasOwnProperty,sl=Object.prototype.propertyIsEnumerable,_s=(e,s,t)=>s in e?Xo(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,_l=(e,s)=>{for(var t in s||(s={}))tl.call(s,t)&&_s(e,t,s[t]);if(ss)for(var t of ss(s))sl.call(s,t)&&_s(e,t,s[t]);return e},nl=(e,s)=>Jo(e,el(s));const il={selectDesignHeading:Object(n.utl)("ecommerce.settings.dine_in.select_design_heading"),selectDesignDescription:Object(n.utl)("ecommerce.settings.dine_in.select_design_description"),orderCardDescription:Object(n.utl)("ecommerce.settings.dine_in.order_card_description"),orderCardSublabel:Object(n.utl)("ecommerce.settings.dine_in.order_card_sublabel"),sampleOrderingCardName:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_name"),sampleOrderingCardPhonePrompt:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_phone_prompt"),sampleOrderingCardNoAppLabel:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_no_app_label"),sampleOrderingCardInstruction1:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_instruction1"),sampleOrderingCardInstruction2:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_instruction2"),sampleOrderingCardInstruction3:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_instruction3"),sampleOrderingCardOrderAgainPrompt:Object(n.utl)("ecommerce.settings.dine_in.sample_ordering_card_order_again_prompt"),qrCodeOnlyDescription:Object(n.utl)("ecommerce.settings.dine_in.qr_code_only_description"),qrCodeOnlySublabel:Object(n.utl)("ecommerce.settings.dine_in.qr_code_only_sublabel")};var rl={components:{OSection:$.OSection,OHeading:A.OHeading,ORadioGroup:le.ORadioGroup,ORadio:le.ORadio},props:{designSelection:{type:String,required:!0}},data(){return{OrderingCard:k.c,QRCodeOnly:k.e,translations:il}},computed:nl(_l({},Object(o.mapGetters)("storefront",{isSiteInMetricUnits:"isSiteUsingMetricUnits",siteLogo:"siteLogo",siteTitle:"siteTitle"})),{designSelectionModel:{get(){return this.designSelection},set(e){this.$emit("input:update",e)}}}),watch:{designSelection(e){this.emitDesignSelectionTrackingEvent(e)}},created(){this.emitDesignSelectionTrackingEvent(this.designSelection)},methods:{emitDesignSelectionTrackingEvent(e){e===k.c?Object(d.I)():e===k.e&&Object(d.K)()}}},al=rl,ou=_(1830),ol=Object(I.a)(al,qo,Yo,!1,null,"f7e214c0",null),ll=ol.exports,dl=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"section-selection-container"},[e.exportError?t("o-notice",{staticClass:"modal-error",attrs:{type:"error"}},[e._v(`
		`+e._s(e.exportError)+`
	`)]):e._e(),e._v(" "),t("o-heading",{attrs:{size:"title-2"}},[e._v(`
		`+e._s(e.translations.selectOrderingCardsHeading)+`
	`)]),e._v(" "),t("p",[e._v(e._s(e.translations.selectSectionsDescription))]),e._v(" "),t("o-table",{attrs:{"row-data":e.seatGroups,checked:e.checkedModel}},[t("o-table-col",{attrs:{property:"name"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_section_name"))+`
		`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_count"},scopedSlots:e._u([{key:"formatter",fn:function(i){return[e._v(`
				`+e._s(i.data.total_seats)+`
			`)]}}])},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_total_seats"))+`
			`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_label"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_seat_label"))+`
		`)])],1)],1)},cl=[];const ul={selectOrderingCardsHeading:Object(n.utl)("ecommerce.settings.dine_in.select_ordering_cards_heading"),selectSectionsDescription:Object(n.utl)("ecommerce.settings.dine_in.select_sections_description")};var pl={components:{OTable:q.OTable,OTableCol:q.OTableCol,OHeading:A.OHeading,ONotice:O.ONotice},props:{seatGroups:{type:Array,required:!0},checked:{type:Array,required:!0},exportError:{type:String,default:""}},data(){return{translations:ul}},computed:{checkedModel:{get(){return this.checked},set(e){this.$emit("section-selection:update",e)}}},methods:{utl:n.utl}},ml=pl,lu=_(1831),vl=Object(I.a)(ml,dl,cl,!1,null,"d784e0ae",null),gl=vl.exports;const fl={getQrCodeTitle:Object(n.utl)("ecommerce.settings.dine_in.get_qr_code_title"),selectDesignsAction:Object(n.utl)("ecommerce.settings.dine_in.select_designs_action"),downloadAction:Object(n.utl)("ecommerce.settings.dine_in.download_action"),continueAction:Object(n.utl)("ecommerce.settings.dine_in.continue_action")};var hl={components:{OModal:f.OModal,OModalPane:f.OModalPane,PreviewModalPane:Zo,OButton:T.OButton,QRCodeDesignSelectionPane:ll,QRCodeSectionSelectionPane:gl},props:{locationId:{type:String,required:!0},address:{type:Object,required:!0}},data(){return{previewSelection:k.b,qrCodeDesignSelection:k.c,exportError:"",checked:Object(P.clone)(Object(P.get)(this.address,"location.dine_in_settings.seat_groups",[])),translations:fl}},computed:{singleSeatGroup(){return this.seatGroups.length===1},seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},location(){return Object(P.get)(this.address,"location",{})},totalPrintCount(){return this.checked.reduce((e,s)=>e+s.total_seats,0)},primaryActionText(){return this.singleSeatGroup?this.translations.downloadAction:this.translations.continueAction}},methods:{handleSSOSelection(){Object(d.X)(),this.$refs.modal.forward()},handleDesignSelection(){this.singleSeatGroup&&(Object(d.J)(),this.$refs.modal.close({exportAs:this.qrCodeDesignSelection,seatGroups:this.seatGroups,isBESI:this.previewSelection===k.a})),this.$refs.modal.forward()},handleSeatSelection(){if(this.exportError="",this.totalPrintCount>Ce){this.exportError=Object(n.utl)("ecommerce.settings.dine_in.seat_group_maximum_error",Ce);return}Object(d.J)(),this.$refs.modal.close({exportAs:this.qrCodeDesignSelection,seatGroups:this.checked,isBESI:this.previewSelection===k.a})},updatePreviewOption(e){this.previewSelection=e},updateDesignSelection(e){this.qrCodeDesignSelection=e},updateSectionSelection(e){this.checked=e}}},bl=hl,yl=Object(I.a)(bl,xo,Lo,!1,null,"3cb2bd23",null),Sl=yl.exports,Ol=_(878),jl=Object.defineProperty,Pl=Object.defineProperties,Cl=Object.getOwnPropertyDescriptors,ns=Object.getOwnPropertySymbols,El=Object.prototype.hasOwnProperty,Il=Object.prototype.propertyIsEnumerable,is=(e,s,t)=>s in e?jl(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ie=(e,s)=>{for(var t in s||(s={}))El.call(s,t)&&is(e,t,s[t]);if(ns)for(var t of ns(s))Il.call(s,t)&&is(e,t,s[t]);return e},rs=(e,s)=>Pl(e,Cl(s)),as=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),xl={components:{AsyncToggle:As.a,OButton:T.OButton,OHeading:A.OHeading,ONotice:O.ONotice,OIcon:M.OIcon,AddressDisplay:Ts.a},directives:{Hovertip:re.OHovertip},filters:{formatAddressName:n.formatAddressName,formatAddressOneLine:n.formatAddressOneLine,formatPhoneNumber:Ms.a},mixins:[Ol.c],inject:{sheetLayer:B.SheetLayer,alertLayer:D.AlertLayer,bladeLayer:X.BladeLayerKey,modalLayer:f.ModalLayer},props:{address:{type:Object,required:!0},simple:{type:Boolean,required:!1,default:!1},onLocationClickedCallback:{type:Function,required:!1,default:void 0}},data(){return{exportDisabled:!1,hasQrCodeError:!1}},computed:rs(ie(ie(ie({},Object(o.mapGetters)({hasSharedCatalog:"hasSharedCatalog"})),Object(o.mapGetters)(r.l,{getFeature:"getFeature"})),Object(o.mapGetters)(r.e,{isSitePublished:"isCurrentSitePublished",canUseSSOBusinessHours:"canUseSSOBusinessHours"})),{isDineInEnabled(){return Object(P.get)(this.location,"dine_in_enabled",!1)&&this.hasSelfServeOrderingFeature},seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},businessHours(){return Object(P.get)(this.location,"dine_in_settings.business_hours",null)},isActive(){return this.canUseSSOBusinessHours?this.seatGroups.length>0&&this.businessHours:this.seatGroups.length>0},locationCanEnableSSO(){return this.hasSelfServeOrderingFeature},location(){return Object(P.get)(this.address,"location",{})},isAddressEmpty(){return!this.address.street},setupHovertip(){return this.address.isValid?"":Object(n.utl)("ecommerce.settings.dine_in.invalid_address_notice_text")},toggleHovertip(){return this.hasSelfServeOrderingFeature?this.locationCanEnableSSO?"":Object(n.utl)("ecommerce.settings.dine_in.dine_in_disabled_reason"):Object(n.utl)("ecommerce.settings.dine_in.dine_in_upgrade_needed_hovertip")},hasSelfServeOrderingFeature(){var e;return(e=this.getFeature("self_serve_ordering"))==null?void 0:e.value}}),created(){this.exportTypes={SEAT_EXPORT_ZIP:k.e,SEAT_EXPORT_PDF:k.c}},methods:rs(ie(ie({},Object(o.mapMutations)(r.e,["stageStoreAddress"])),Object(o.mapActions)(r.e,["setDineInEnabled","setOpenTabEnabled","fetchLocationById","exportQRCodes","redirectToExportQRCode"])),{onToggleDineIn(){return as(this,null,function*(){return this.locationCanEnableSSO?(this.stageStoreAddress(this.address),this.isDineInEnabled?(this.setOpenTabEnabled(!1),Object(d.U)(!1),this.setDineInEnabled(!1)):(Object(d.U)(!0),this.setDineInEnabled(!0))):!1})},onExportBtnClicked(){!this.isActive||(this.stageStoreAddress(this.address),this.bladeLayer.open(e=>e(eo,{props:{title:Object(n.formatAddressName)(this.address)},on:{"location-list-item:open-preview":()=>this.onGetQRCodesClick()}})))},onLocationClicked(){this.onLocationClickedCallback&&!this.isAddressEmpty&&this.address.isValid&&this.onLocationClickedCallback(this.address)},isWithinSyncronousLimit(e){return e.reduce((t,i)=>t+i.total_seats,0)<=Xs},openDineInSetupWizard(){Object(d.F)(d.v.click_setup_qr_codes),this.stageStoreAddress(this.address),this.sheetLayer.open(Yt,{on:{close:e=>{e&&this.onGetQRCodesClick()}}})},onGetQRCodesClick(){Object(d.G)(),this.modalLayer.open(Sl,{props:{locationId:this.location.pickupLocationId,address:this.address},on:{close:({exportAs:e,seatGroups:s,isBESI:t})=>{!s||!s.length||this.exportSeats(e,s,t)}}})},exportSeats(e,s,t=!1){return as(this,null,function*(){try{this.hasQrCodeError=!1;const i=this.isWithinSyncronousLimit(s),v=s.map(E=>E.id);if(i)yield this.redirectToExportQRCode({exportAs:e,storeLocationId:this.location.pickupLocationId,seatGroupIds:v,isSynchronous:i,isBESI:t});else{const E=yield this.exportQRCodes({exportAs:e,storeLocationId:this.location.pickupLocationId,seatGroupIds:v,isSynchronous:i,isBESI:t});this.alertLayer.open(Ds.a,{props:{title:Object(n.utl)("dine_in.alert_header"),message:Object(n.utl)("dine_in.alert_message",E.data.email),confirmText:Object(n.utl)("dine_in.alert_confirmation"),cancelText:"",confirmCallback:()=>{}}})}}catch(i){this.hasQrCodeError=!0}})},onEditAddress(){this.openEditAddressModal(this.address,()=>{this.$store.dispatch(`${r.e}/fetchStoreAddresses`)},{onEvents:{"address:saved":()=>{this.$emit("refresh-list")}}})}})},Ll=xl,du=_(1832),wl=Object(I.a)(Ll,R,F,!1,null,"2c86057c",null),Tl=wl.exports,Ml=Object.defineProperty,Al=Object.defineProperties,Dl=Object.getOwnPropertyDescriptors,os=Object.getOwnPropertySymbols,Bl=Object.prototype.hasOwnProperty,Rl=Object.prototype.propertyIsEnumerable,ls=(e,s,t)=>s in e?Ml(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Se=(e,s)=>{for(var t in s||(s={}))Bl.call(s,t)&&ls(e,t,s[t]);if(os)for(var t of os(s))Rl.call(s,t)&&ls(e,t,s[t]);return e},ds=(e,s)=>Al(e,Dl(s)),cs=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),kl={components:{OPagination:x.OPagination,OButtonGroup:w.OButtonGroup,OButtonGroupItem:w.OButtonGroupItem,ContentLoading:g.a,LocationListItem:Tl},props:{addresses:{type:Array,default:()=>[]},simpleList:{type:Boolean,default:!1,required:!1},locationClickCallback:{type:Function,required:!1,default:void 0}},data(){return{isLoading:!1,itemsPerPageOptions:[{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"}]}},computed:ds(Se({},Object(o.mapState)(r.e,["storeAddressPagination"])),{numPages(){return this.storeAddressPagination.pages},itemsTotal(){return this.storeAddressPagination.itemsTotal},itemsPerPage:{get(){return this.storeAddressPagination.itemsPerPage},set(e){this.updateStoreAddressPagination({itemsPerPage:e}),this.refreshListData()}},currentPage:{get(){return this.storeAddressPagination.currentPage},set(e){this.updateStoreAddressPagination({currentPage:e}),this.refreshListData()}}}),methods:ds(Se(Se({},Object(o.mapActions)(r.e,["fetchStoreAddresses"])),Object(o.mapMutations)(r.e,["updateStoreAddressPagination"])),{refreshListData(){return cs(this,null,function*(){this.isLoading=!0,yield this.fetchStoreAddresses(),this.isLoading=!1})},onLocationClick(e){return cs(this,null,function*(){this.locationClickCallback&&(this.isLoading=!0,yield this.locationClickCallback(e),this.isLoading=!1)})}})},Fl=kl,cu=_(1833),Ul=Object(I.a)(Fl,j,C,!1,null,"839e7eb0",null),us=Ul.exports,Gl=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-zero-state",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.dine_in_zero_state_header"),"full-width":!0}},[t("div",{staticClass:"container"},[t("self-serve-instructions")],1),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:e.onLearnMoreClick}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.learn_more_link"))+`
		`)]),e._v(" "),t("o-button",{attrs:{variant:"muted"},on:{click:e.onDismissClick}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.dismiss"))+`
		`)])],1)],2)},Nl=[],ps=_(520),$l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container"},[t("span",{staticClass:"zero-state-step"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/ordering-card.svg")}}),e._v(" "),t("img",{staticClass:"icon-mobile",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/1.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_ordering_cards")))])]),e._v(" "),t("img",{staticClass:"next-step-icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/right_arrow.svg")}}),e._v(" "),t("span",{staticClass:"zero-state-step"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr-code-icon.svg")}}),e._v(" "),t("img",{staticClass:"icon-mobile",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/2.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_qr_code")))])]),e._v(" "),t("img",{staticClass:"next-step-icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/right_arrow.svg")}}),e._v(" "),t("span",{staticClass:"zero-state-step"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/card-chip-checkmark.svg")}}),e._v(" "),t("img",{staticClass:"icon-mobile",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/3.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_payment")))])])])},Hl=[],uu=_(1834),Wl={},zl=Object(I.a)(Wl,$l,Hl,!1,null,"f37d9330",null),ms=zl.exports,Vl=Object.defineProperty,Kl=Object.defineProperties,Ql=Object.getOwnPropertyDescriptors,vs=Object.getOwnPropertySymbols,Zl=Object.prototype.hasOwnProperty,ql=Object.prototype.propertyIsEnumerable,gs=(e,s,t)=>s in e?Vl(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Yl=(e,s)=>{for(var t in s||(s={}))Zl.call(s,t)&&gs(e,t,s[t]);if(vs)for(var t of vs(s))ql.call(s,t)&&gs(e,t,s[t]);return e},Xl=(e,s)=>Kl(e,Ql(s)),Jl={components:{OZeroState:ps.OZeroState,OButton:T.OButton,SelfServeInstructions:ms},data(){return{learnMoreLink:Le}},methods:Xl(Yl({},Object(o.mapActions)("platform",{dismissFTUX:"completeFirstTimeExperienceForSite"})),{onDismissClick(){this.dismiss()},dismiss(){this.dismissFTUX(c.FTUX_DINE_IN_ZERO_STATE)},onLearnMoreClick(){this.learnMoreLink&&(window.open(this.learnMoreLink,"_blank"),window.opener=null)}})},ed=Jl,pu=_(1835),td=Object(I.a)(ed,Gl,Nl,!1,null,"af0913c4",null),sd=td.exports,_d=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("banner",{staticClass:"banner",attrs:{flush:!0},on:{"click:dismiss":e.handleDismiss}},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"copy-wrapper"},[t("o-heading",{attrs:{size:"title-4"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_banner_copy"))+`
			`)]),e._v(" "),t("o-button",{staticClass:"cta",attrs:{variant:"text"},on:{click:function(i){return e.$emit("click:try-canva")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_banner_button"))+`
			`)])],1),e._v(" "),t("img",{staticClass:"banner-img",attrs:{src:e.imageUrl}})])])},nd=[],id=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container",class:{flush:e.flush}},[e._t("default"),e._v(" "),t("o-button",{staticClass:"dismiss-button",attrs:{variant:"muted"},on:{click:function(i){return e.$emit("click:dismiss")}}},[t("o-icon",{attrs:{name:"x"}})],1)],2)},rd=[],ad={components:{OButton:T.OButton,OIcon:M.OIcon},props:{flush:{type:Boolean,default:!1}}},od=ad,mu=_(1836),ld=Object(I.a)(od,id,rd,!1,null,"d5b95642",null),dd=ld.exports,cd=Object.defineProperty,ud=Object.defineProperties,pd=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,md=Object.prototype.hasOwnProperty,vd=Object.prototype.propertyIsEnumerable,hs=(e,s,t)=>s in e?cd(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,gd=(e,s)=>{for(var t in s||(s={}))md.call(s,t)&&hs(e,t,s[t]);if(fs)for(var t of fs(s))vd.call(s,t)&&hs(e,t,s[t]);return e},fd=(e,s)=>ud(e,pd(s)),hd={components:{OButton:T.OButton,Banner:dd,OHeading:A.OHeading},data(){return{imageUrl:Object(n.assetify)("/images/commerce/store-app/app/dine-in/canva-templates.png")}},methods:fd(gd({utl:n.utl},Object(o.mapActions)(r.k,["completeFirstTimeExperienceForSite"])),{handleDismiss(){this.completeFirstTimeExperienceForSite(c.FTUX_DINE_IN_CANVA)}})},bd=hd,vu=_(1837),yd=Object(I.a)(bd,_d,nd,!1,null,"047eb870",null),Sd=yd.exports,Od=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal"},e.$listeners),[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.canva_modal_title")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.modal.close()}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.done"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"content"},[t("div",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.canva_modal_copy")))]),e._v(" "),t("div",{staticClass:"templates"},e._l(e.templates,function(i,v){return t("div",{key:v,staticClass:"template-item",on:{click:function(E){return e.onTemplateItemClick(i)}}},[t("img",{staticClass:"template-thumb",class:i.imageClass,attrs:{src:i.imageUrl,alt:i.label}}),e._v(" "),t("div",{staticClass:"template-label"},[e._v(`
						`+e._s(i.label)+`
					`)]),e._v(" "),t("div",{staticClass:"template-dimensions"},[e._v(`
						`+e._s(i.dimensions)+`
					`)])])}),0),e._v(" "),e.isUSBasedSeller?t("div",{staticClass:"hire-designer-link"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_modal_hire_designer"))+`

				`),t("a",{attrs:{href:"https://99designs.com/briefs/square-online-self-serve",target:"_blank",rel:"noopener noreferrer"},on:{click:e.onHireDesignerClick}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.hire-designer-cta"))+`
				`)])]):e._e()])],2)],1)},jd=[],Pd=Object.defineProperty,Cd=Object.defineProperties,Ed=Object.getOwnPropertyDescriptors,bs=Object.getOwnPropertySymbols,Id=Object.prototype.hasOwnProperty,xd=Object.prototype.propertyIsEnumerable,ys=(e,s,t)=>s in e?Pd(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Ld=(e,s)=>{for(var t in s||(s={}))Id.call(s,t)&&ys(e,t,s[t]);if(bs)for(var t of bs(s))xd.call(s,t)&&ys(e,t,s[t]);return e},wd=(e,s)=>Cd(e,Ed(s));const Td="US";var Md={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane},data(){return{templates:[{imageUrl:Object(n.assetify)("/images/commerce/store-app/app/dine-in/canva-template-1.png"),imageClass:"template-thumb-1",label:Object(n.utl)("ecommerce.settings.dine_in.canva_template_link",1),dimensions:Object(n.utl)("ecommerce.settings.dine_in.template_size_one"),canvaUrl:"https://www.canva.com/design/DAEkwbS3CS8/_Waow-MbePLGucR4Xg4h6g/view?utm_content=DAEkwbS3CS8&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton&mode=preview"},{imageUrl:Object(n.assetify)("/images/commerce/store-app/app/dine-in/canva-template-2.png"),imageClass:"template-thumb-2",label:Object(n.utl)("ecommerce.settings.dine_in.canva_template_link",2),dimensions:Object(n.utl)("ecommerce.settings.dine_in.template_size_two"),canvaUrl:"https://www.canva.com/design/DAEkwe2uJ7A/Q3ITIflopZcRtpL1VZPIFQ/view?utm_content=DAEkwe2uJ7A&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton&mode=preview"},{imageUrl:Object(n.assetify)("/images/commerce/store-app/app/dine-in/canva-template-3.png"),imageClass:"template-thumb-3",label:Object(n.utl)("ecommerce.settings.dine_in.canva_template_link",3),dimensions:Object(n.utl)("ecommerce.settings.dine_in.template_size_three"),canvaUrl:"https://www.canva.com/design/DAEkwRpH9-Q/qxDq3CKJdt6cWQndvjieGQ/view?utm_content=DAEkwRpH9-Q&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton&mode=preview"}]}},computed:wd(Ld({},Object(o.mapGetters)(r.H,{countryCode:"countryCode"})),{isUSBasedSeller(){return this.countryCode===Td}}),methods:{utl:n.utl,onHireDesignerClick(){Object(d.F)(d.u.click_find_out_more)},onTemplateItemClick(e){Object(d.F)(d.u.click_canva_template),window.open(e.canvaUrl,"_blank"),window.opener=null}}},Ad=Md,gu=_(1838),Dd=Object(I.a)(Ad,Od,jd,!1,null,"bc0964d6",null),Bd=Dd.exports,Rd=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal",staticClass:"modal",attrs:{size:"large"}},e.$listeners),[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.dine_in_zero_state_header")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.modal.close()}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.got_it"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"instructions-wrapper"},[t("self-serve-instructions")],1)])],2)],1)},kd=[],Fd={components:{OButton:T.OButton,OModal:f.OModal,OModalPane:f.OModalPane,SelfServeInstructions:ms},methods:{utl:n.utl}},Ud=Fd,fu=_(1839),Gd=Object(I.a)(Ud,Rd,kd,!1,null,"70fc77af",null),Nd=Gd.exports,$d=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("SSOUpgradeZeroState",{on:{"start-sso-setup":e.startSSOSetup}}),e._v(" "),t("o-grid",{staticClass:"sso-how-it-works"},[t("o-grid-item",{staticClass:"item",attrs:{span:6}},[t("h3",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.dine_in_zero_state_header")))]),e._v(" "),t("ul",{staticClass:"sso-how-it-works-list"},[t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr-code-icon.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_step_one")))])]),e._v(" "),t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/ordering-card.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_ordering_cards")))])]),e._v(" "),t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/phone-check.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_scan")))])]),e._v(" "),t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/card-chip-checkmark.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_payment")))])])])]),e._v(" "),t("o-grid-item",{staticClass:"item",attrs:{span:6}},[t("img",{staticClass:"sso-image",attrs:{src:e._f("assetify")("/images/commerce/store-app/sso-how-it-works.png")}})])],1)],1)},Hd=[],Wd=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({ref:"sheet"},e.$listeners),[t("h1",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_location_select")))]),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_location_select_description")))]),e._v(" "),t("location-list",{attrs:{addresses:e.addresses,"simple-list":!0,"location-click-callback":e.onLocationSelected},on:{"refresh-list":e.fetchDineInLocations}})],1)},zd=[],Vd=Object.defineProperty,Ss=Object.getOwnPropertySymbols,Kd=Object.prototype.hasOwnProperty,Qd=Object.prototype.propertyIsEnumerable,Os=(e,s,t)=>s in e?Vd(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Zd=(e,s)=>{for(var t in s||(s={}))Kd.call(s,t)&&Os(e,t,s[t]);if(Ss)for(var t of Ss(s))Qd.call(s,t)&&Os(e,t,s[t]);return e},qd=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),Yd={name:"SSOLocationSelect",components:{OSheet:B.OSheet,LocationList:us},computed:Zd({},Object(o.mapGetters)(r.e,{addresses:"storeAddressesWithLocation"})),methods:{fetchDineInLocations(){return qd(this,null,function*(){this.isLoading=!0;try{yield this.$store.dispatch(`${r.e}/fetchStoreAddresses`)}finally{this.isLoading=!1}})},onLocationSelected(e){this.$emit("location-selected",e,this.$refs.sheet)}}},Xd=Yd,Jd=Object(I.a)(Xd,Wd,zd,!1,null,null,null),ec=Jd.exports,tc=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"dine-in-zero-state-wrapper"},[t("upgrade-badge",{attrs:{"feature-id":"self_serve_ordering",location:"sso","site-id":e.siteId}}),e._v(" "),t("o-zero-state",{staticClass:"dine-in-zero-state-heading",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.title")}},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_header"))+`
		`),t("a",{attrs:{href:"https://squareup.com/help/us/en/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online",target:"_blank"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_learn_more"))+`
		`)])]),e._v(" "),e._t("additional-content",function(){return[t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$emit("start-sso-setup")}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_banner_button"))+`
		`)]),e._v(" "),t("o-button",{staticClass:"watch-video-btn",attrs:{variant:"tertiary"},on:{click:e.openVideo}},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/play-icon-filled.svg")}}),e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_watch_video"))+`
		`)])]})],2)},sc=[],_c=Object.defineProperty,js=Object.getOwnPropertySymbols,nc=Object.prototype.hasOwnProperty,ic=Object.prototype.propertyIsEnumerable,Ps=(e,s,t)=>s in e?_c(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,rc=(e,s)=>{for(var t in s||(s={}))nc.call(s,t)&&Ps(e,t,s[t]);if(js)for(var t of js(s))ic.call(s,t)&&Ps(e,t,s[t]);return e},ac={name:"SsoUpgradeZeroState",components:{OButton:T.OButton,OZeroState:ps.OZeroState,UpgradeBadge:b.UpgradeBadge},computed:rc({},Object(o.mapState)(["siteId"])),methods:{openVideo(){window.open("https://youtu.be/oTgYJCJi0wA","_blank").focus()}}},oc=ac,hu=_(1840),lc=Object(I.a)(oc,tc,sc,!1,null,"3d5e9060",null),Cs=lc.exports,dc=Object.defineProperty,cc=Object.defineProperties,uc=Object.getOwnPropertyDescriptors,Es=Object.getOwnPropertySymbols,pc=Object.prototype.hasOwnProperty,mc=Object.prototype.propertyIsEnumerable,Is=(e,s,t)=>s in e?dc(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,vc=(e,s)=>{for(var t in s||(s={}))pc.call(s,t)&&Is(e,t,s[t]);if(Es)for(var t of Es(s))mc.call(s,t)&&Is(e,t,s[t]);return e},gc=(e,s)=>cc(e,uc(s)),fc=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),hc={name:"SsoUpgradeView",components:{OGrid:z.OGrid,OGridItem:z.OGridItem,SSOUpgradeZeroState:Cs},inject:{sheetLayer:B.SheetLayer},props:{addresses:{type:Array,required:!0}},methods:gc(vc({},Object(o.mapMutations)(r.e,["stageStoreAddress"])),{startSSOSetup(){this.sheetLayer.open(ec,{on:{"location-selected":this.onLocationSelected}})},onLocationSelected(e,s){return fc(this,null,function*(){yield Promise.all([this.stageStoreAddress(e),s.close()]),this.sheetLayer.open(Yt,{on:{close:t=>{t&&this.$emit("dine-in-wizard-complete")}}})})}})},bc=hc,bu=_(1841),yc=Object(I.a)(bc,$d,Hd,!1,null,"d8ee0d14",null),Sc=yc.exports,Oc=Object.defineProperty,jc=Object.defineProperties,Pc=Object.getOwnPropertyDescriptors,xs=Object.getOwnPropertySymbols,Cc=Object.prototype.hasOwnProperty,Ec=Object.prototype.propertyIsEnumerable,Ls=(e,s,t)=>s in e?Oc(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,K=(e,s)=>{for(var t in s||(s={}))Cc.call(s,t)&&Ls(e,t,s[t]);if(xs)for(var t of xs(s))Ec.call(s,t)&&Ls(e,t,s[t]);return e},ws=(e,s)=>jc(e,Pc(s)),Ic=(e,s,t)=>new Promise((i,v)=>{var E=a=>{try{y(t.next(a))}catch(S){v(S)}},L=a=>{try{y(t.throw(a))}catch(S){v(S)}},y=a=>a.done?i(a.value):Promise.resolve(a.value).then(E,L);y((t=t.apply(e,s)).next())}),xc={name:"DineIn",components:{ONotice:O.ONotice,ContentLoading:g.a,LocationList:us,SpringPage:b.SpringPage,DineInZeroState:sd,CanvaBanner:Sd,SsoUpgradeView:Sc,SsoUpgradeZeroState:Cs,UpgradeButton:b.UpgradeButton},mixins:[se],inject:{modalLayer:f.ModalLayer},data(){return{isLoading:!0,ROUTE_PRODUCTS:l.D,ROUTE_PICKUP:l.C}},computed:ws(K(K(K(K(K(K({},Object(o.mapState)(["siteId"])),Object(o.mapGetters)({hasSharedCatalog:"hasSharedCatalog"})),Object(o.mapGetters)(r.e,{addresses:"storeAddressesWithLocation",currentSiteTitle:"currentSiteTitle",location:"stagedStoreLocationClone",isSitePublished:"isCurrentSitePublished"})),Object(o.mapGetters)(r.l,{getFeature:"getFeature"})),Object(o.mapGetters)(r.H,{countryCode:"countryCode"})),Object(o.mapGetters)(r.k,["isFirstTimeExperienceVisibleForSite"])),{pageTitle(){return this.hasSelfServeOrderingFeature?Object(n.utl)("ecommerce.settings.dine_in.title"):null},publishSiteNoticeText(){return Object(n.utl)("ecommerce.settings.dine_in.publish_first_notice",this.currentSiteTitle)},hasAlcoholItemsNotice(){const e=this.addresses.some(s=>s.location.dine_in_enabled&&s.location.dine_in_settings&&s.location.dine_in_settings.alcohol_enabled);return this.isFirstTimeExperienceVisibleForSite(c.FTUX_ADD_ALCOHOLIC_ITEMS)&&e},shouldShowCanvaBanner(){return this.isFirstTimeExperienceVisibleForSite(c.FTUX_DINE_IN_CANVA)&&this.hasAtleastOneLocationSetup},shouldShowZeroState(){return this.isFirstTimeExperienceVisibleForSite(c.FTUX_DINE_IN_ZERO_STATE)&&!this.hasAtleastOneLocationSetup},hasAtleastOneLocationSetup(){return this.addresses.some(e=>e.location.dine_in_settings)},hasSelfServeOrderingFeature(){var e;return(e=this.getFeature("self_serve_ordering"))==null?void 0:e.value},showPaidFeatureState(){const e=this.addresses.some(s=>{var t,i;return((i=(t=s.location.dine_in_settings)==null?void 0:t.seat_groups)==null?void 0:i.length)>0});return!this.hasSelfServeOrderingFeature&&!e}}),mounted(){this.fetchDineInLocations()},beforeCreate(){this.$store.dispatch("storefront/fetchSiteSnapshot")},methods:ws(K({},Object(o.mapActions)(r.k,["completeFirstTimeExperienceForSite"])),{showCanvaModal(){Object(d.F)(d.u.click_banner_cta),this.modalLayer.open(Bd)},showSSOInstructionsModal(){this.modalLayer.open(Nd)},onAlcoholItemsDismiss(){this.completeFirstTimeExperienceForSite(c.FTUX_ADD_ALCOHOLIC_ITEMS)},fetchDineInLocations(){return Ic(this,null,function*(){this.isLoading=!0;try{yield this.$store.dispatch(`${r.e}/fetchStoreAddresses`)}finally{this.isLoading=!1}})}})},Lc=xc,yu=_(1842),wc=Object(I.a)(Lc,u,h,!1,null,"36ce0b6c",null),Su=p.default=wc.exports},874:function(m,p,_){(function(u,h){if(!0)m.exports=h(_(351));else var O,r})(typeof self!="undefined"?self:this,function(u){return function(h){var O={};function r(c){if(O[c])return O[c].exports;var l=O[c]={i:c,l:!1,exports:{}};return h[c].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=h,r.c=O,r.d=function(c,l,n){r.o(c,l)||Object.defineProperty(c,l,{configurable:!1,enumerable:!0,get:n})},r.n=function(c){var l=c&&c.__esModule?function(){return c.default}:function(){return c};return r.d(l,"a",l),l},r.o=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)},r.p="/",r(r.s=1373)}({1373:function(h,O,r){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var c=r(1374);r.n(c);for(var l in c)l!=="default"&&function(n){r.d(O,n,function(){return c[n]})}(l)},1374:function(h,O){h.exports=u}})})},879:function(m,p,_){(function(u,h){if(!0)m.exports=h(_(32));else var O,r})(typeof self!="undefined"?self:this,function(u){return function(h){var O={};function r(c){if(O[c])return O[c].exports;var l=O[c]={i:c,l:!1,exports:{}};return h[c].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=h,r.c=O,r.d=function(c,l,n){r.o(c,l)||Object.defineProperty(c,l,{configurable:!1,enumerable:!0,get:n})},r.n=function(c){var l=c&&c.__esModule?function(){return c.default}:function(){return c};return r.d(l,"a",l),l},r.o=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)},r.p="/",r(r.s=1456)}({0:function(h,O,r){"use strict";O.a=function(c,l,n,o,b,f,d,g){var j,C=typeof c=="function"?c.options:c;if(l&&(C.render=l,C.staticRenderFns=n,C._compiled=!0),o&&(C.functional=!0),f&&(C._scopeId="data-v-"+f),d?(j=function(R){(R=R||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(R=__VUE_SSR_CONTEXT__),b&&b.call(this,R),R&&R._registeredComponents&&R._registeredComponents.add(d)},C._ssrRegister=j):b&&(j=g?function(){b.call(this,this.$root.$options.shadowRoot)}:b),j)if(C.functional){C._injectStyles=j;var x=C.render;C.render=function(R,F){return j.call(F),x(R,F)}}else{var w=C.beforeCreate;C.beforeCreate=w?[].concat(w,j):[j]}return{exports:c,options:C}}},1456:function(h,O,r){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var c=r(1457);r.d(O,"OTextarea",function(){return c.a})},1457:function(h,O,r){"use strict";var c=r(1458),l=r(494),n=r(1460),o=r(0),b=Object(o.a)(l.a,c.a,c.b,!1,function(f){this.$s=n.default.locals||n.default},null,null);O.a=b.exports},1458:function(h,O,r){"use strict";var c=r(1459);r.d(O,"a",function(){return c.a}),r.d(O,"b",function(){return c.b})},1459:function(h,O,r){"use strict";r.d(O,"a",function(){return c}),r.d(O,"b",function(){return l});var c=function(){var n,o=this,b=o.$createElement;return(o._self._c||b)("textarea",o._g(o._b({directives:[{name:"model",rawName:"v-model",value:o.textareaVal,expression:"textareaVal"}],class:[o.$s.Textarea,(n={},n[o.$s.resizable]=o.resizable,n[o.$s.invalid]=o.formItem&&o.formItem.invalid,n),o.$s["theme_"+o.theme]],domProps:{value:o.textareaVal},on:{input:function(f){f.target.composing||(o.textareaVal=f.target.value)}}},"textarea",o.$attrs,!1),o.$listeners))},l=[]},1460:function(h,O,r){"use strict";var c=r(496),l=r.n(c);O.default=l.a},494:function(h,O,r){"use strict";var c=r(495);O.a=c.a},495:function(h,O,r){"use strict";var c=r(6);r.n(c),O.a={name:"OTextarea",model:{event:"textarea:update"},props:{value:{type:null,default:void 0},resizable:{type:Boolean,default:!1},theme:{type:String,default:"normal",validator:l=>["normal","monospace"].includes(l)}},inject:{formItem:{from:c.FormItemKey,default:void 0}},computed:{textareaVal:{get(){return this.value},set(l){this.$emit("textarea:update",l)}}}}},496:function(h,O){h.exports={Textarea:"\u{1F680}5-3-12GPH0 \u{1F680}5-3-11fyTq",invalid:"\u{1F680}5-3-12wgF2",resizable:"\u{1F680}5-3-131qgt",theme_monospace:"\u{1F680}5-3-13AEi4"}},6:function(h,O){h.exports=u}})})},886:function(m,p,_){(function(u,h){if(!0)m.exports=h(_(43),_(34),_(283));else var O,r})(typeof self!="undefined"?self:this,function(u,h,O){return function(r){var c={};function l(n){if(c[n])return c[n].exports;var o=c[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,l),o.l=!0,o.exports}return l.m=r,l.c=c,l.d=function(n,o,b){l.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:b})},l.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(o,"a",o),o},l.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},l.p="/",l(l.s=546)}({0:function(r,c,l){"use strict";c.a=function(n,o,b,f,d,g,j,C){var x,w=typeof n=="function"?n.options:n;if(o&&(w.render=o,w.staticRenderFns=b,w._compiled=!0),f&&(w.functional=!0),g&&(w._scopeId="data-v-"+g),j?(x=function(P){(P=P||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(P=__VUE_SSR_CONTEXT__),d&&d.call(this,P),P&&P._registeredComponents&&P._registeredComponents.add(j)},w._ssrRegister=x):d&&(x=C?function(){d.call(this,this.$root.$options.shadowRoot)}:d),x)if(w.functional){w._injectStyles=x;var R=w.render;w.render=function(P,A){return x.call(A),R(P,A)}}else{var F=w.beforeCreate;w.beforeCreate=F?[].concat(F,x):[x]}return{exports:n,options:w}}},1:function(r,c){r.exports=u},100:function(r,c){r.exports={transitioning:"\u{1F680}5-3-13hdSM"}},127:function(r,c,l){"use strict";var n=l(147),o=l(98),b=l(149),f=l(0),d=Object(f.a)(o.a,n.a,n.b,!1,function(g){this.$s=b.default.locals||b.default},null,null);c.a=d.exports},141:function(r,c,l){"use strict";var n=l(142);c.a=n.a},142:function(r,c,l){"use strict";var n=l(5),o=l.n(n),b=l(1),f=(l.n(b),l(143)),d=l(144);c.a={name:"OAccordion",model:{prop:"open",event:"accordion:update"},props:{open:{type:Number,default:void 0},label:{type:String,default:void 0},subtitle:{type:String,default:void 0},variant:{type:String,default:"normal",validate:g=>["normal","contained","subtle"].includes(g)},size:{type:String,default:"medium",validate:g=>["small","medium","large"].includes(g)}},data(){const g=this;return{isOpen:0,state:{children:[],get openIdx(){return(g.open!==void 0?g.open:g.isOpen)||0},set openIdx(j){g.open!==void 0?g.$emit("accordion:update",j):g.isOpen=j},get variant(){return g.variant},get size(){return g.size}}}},provide(){return{[f.a]:this.state}},methods:{isAccordionItem:g=>g.componentOptions&&g.componentOptions.Ctor.extendOptions===d.a,enforceChildType(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).every(g=>!g.tag||this.isAccordionItem(g))}},render(){const g=arguments[0],{default:j=[]}=this.$slots;j.length===0&&Object(b.showWarning)("Accordion","Content must be passed into the Accordion");const C=j.filter(x=>this.isAccordionItem(x));return C.length===1&&Object(b.showWarning)("Accordion","Use the Accordion component as an AccordionItem if you only have one section"),j.length>0&&C.length===0?C.push(g(d.a,{attrs:{label:this.label,subtitle:this.subtitle}},[j])):this.enforceChildType(j)||Object(b.throwError)("Accordion","Only AccordionItems are allowed"),g("div",o()([{class:this.$s.Accordion},{attrs:this.$attrs}]),[C])}}},143:function(r,c,l){"use strict";const n=Symbol("Accordion");c.a=n},144:function(r,c,l){"use strict";var n=l(548),o=l(145),b=l(550),f=l(0),d=Object(f.a)(o.a,n.a,n.b,!1,function(g){this.$s=b.default.locals||b.default},null,null);c.a=d.exports},145:function(r,c,l){"use strict";var n=l(146);c.a=n.a},146:function(r,c,l){"use strict";var n=l(2),o=(l.n(n),l(33)),b=l.n(o),f=l(127),d=l(143);c.a={name:"OAccordionItem",components:{OIcon:n.OIcon,NoClickFocus:b.a,CollapseTransition:f.a},props:{label:{type:String,required:!0},subtitle:{type:String,default:void 0}},data:()=>({accordionId:Symbol("accordionId")}),inject:{accordion:d.a},computed:{open(){return this.accordion.children[this.accordion.openIdx]===this.accordionId}},created(){this.accordion.children.push(this.accordionId)},beforeDestroy(){const g=this.accordion.children.indexOf(this.accordionId);this.accordion.children.splice(g,1)},methods:{toggleOpen(){const g=this.accordion.children.indexOf(this.accordionId);this.accordion.openIdx=this.accordion.openIdx!==g?g:-1}}}},147:function(r,c,l){"use strict";var n=l(148);l.d(c,"a",function(){return n.a}),l.d(c,"b",function(){return n.b})},148:function(r,c,l){"use strict";l.d(c,"a",function(){return n}),l.d(c,"b",function(){return o});var n=function(){var b=this,f=b.$createElement;return(b._self._c||f)("transition",b._b({attrs:{"enter-active-class":b.$s.transitioning,"leave-active-class":b.$s.transitioning},on:{"before-enter":b.zeroHeight,enter:b.setContentHeight,"after-enter":b.removeHeight,"before-leave":b.setContentHeight,leave:b.onLeave,"after-leave":b.removeHeight}},"transition",b.$attrs,!1),[b._t("default")],2)},o=[]},149:function(r,c,l){"use strict";var n=l(100),o=l.n(n);c.default=o.a},150:function(r,c){r.exports={LabelWrap:"\u{1F680}5-3-13vlwP \u{1F680}5-3-11fyTq",size_small:"\u{1F680}5-3-1x8ciE",size_large:"\u{1F680}5-3-12fzKc",Label:"\u{1F680}5-3-11rlU3",HeaderButton:"\u{1F680}5-3-1ppIIe",InnerHeaderButton:"\u{1F680}5-3-1cJiaI",hasSubtitle:"\u{1F680}5-3-11RsIc",AccordionItem:"\u{1F680}5-3-1gnuyy \u{1F680}5-3-11fyTq",CollapseIcon:"\u{1F680}5-3-18oJ34",variant_contained:"\u{1F680}5-3-11o6Pe",variant_subtle:"\u{1F680}5-3-13u3Lh",open:"\u{1F680}5-3-13pB0K",Container:"\u{1F680}5-3-1F1jHg",variant_normal:"\u{1F680}5-3-11S3-j"}},151:function(r,c){r.exports={Accordion:"\u{1F680}5-3-1hSW-c"}},2:function(r,c){r.exports=h},33:function(r,c){r.exports=O},5:function(r,c){var l=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(o,b){return function(){o&&o.apply(this,arguments),b&&b.apply(this,arguments)}}r.exports=function(o){return o.reduce(function(b,f){var d,g,j,C,x;for(j in f)if(d=b[j],g=f[j],d&&l.test(j))if(j==="class"&&(typeof d=="string"&&(x=d,b[j]=d={},d[x]=!0),typeof g=="string"&&(x=g,f[j]=g={},g[x]=!0)),j==="on"||j==="nativeOn"||j==="hook")for(C in g)d[C]=n(d[C],g[C]);else if(Array.isArray(d))b[j]=d.concat(g);else if(Array.isArray(g))b[j]=[d].concat(g);else for(C in g)d[C]=g[C];else b[j]=f[j];return b},{})}},546:function(r,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var n=l(547),o=l(144);l.d(c,"OAccordion",function(){return n.a}),l.d(c,"OAccordionItem",function(){return o.a})},547:function(r,c,l){"use strict";var n=l(141),o=l(551),b=l(0),f=Object(b.a)(n.a,void 0,void 0,!1,function(d){this.$s=o.default.locals||o.default},null,null);c.a=f.exports},548:function(r,c,l){"use strict";var n=l(549);l.d(c,"a",function(){return n.a}),l.d(c,"b",function(){return n.b})},549:function(r,c,l){"use strict";l.d(c,"a",function(){return n}),l.d(c,"b",function(){return o});var n=function(){var b,f,d=this,g=d.$createElement,j=d._self._c||g;return j("div",{class:[d.$s.AccordionItem,d.$s["variant_"+d.accordion.variant],d.$s["size_"+d.accordion.size],(b={},b[d.$s.open]=d.open,b)]},[j("button",{class:d.$s.HeaderButton,attrs:{"aria-expanded":!!d.open,type:"button"},on:{click:d.toggleOpen}},[j("no-click-focus",{class:[d.$s.InnerHeaderButton,(f={},f[d.$s.hasSubtitle]=d.subtitle,f)]},[j("div",{class:d.$s.LabelWrap},[j("div",{class:d.$s.Label},[d._v(`
					`+d._s(d.label)+`
				`)]),d._v(" "),d.subtitle?j("div",[d._v(`
					`+d._s(d.subtitle)+`
				`)]):d._e()]),d._v(" "),d.accordion.variant!=="subtle"?j("o-icon",{class:d.$s.CollapseIcon,attrs:{name:"arrow-down"}}):d._e(),d._v(" "),d.accordion.variant==="subtle"?j("o-icon",{class:d.$s.CollapseIcon,attrs:{name:"arrow-up"}}):d._e()],1)],1),d._v(" "),j("collapse-transition",[j("div",{directives:[{name:"show",rawName:"v-show",value:d.open,expression:"open"}],attrs:{"aria-hidden":!d.open}},[j("div",{class:d.$s.Container},[d._t("default")],2)])])],1)},o=[]},550:function(r,c,l){"use strict";var n=l(150),o=l.n(n);c.default=o.a},551:function(r,c,l){"use strict";var n=l(151),o=l.n(n);c.default=o.a},98:function(r,c,l){"use strict";var n=l(99);c.a=n.a},99:function(r,c,l){"use strict";c.a={methods:{zeroHeight(n){Object.assign(n.style,{height:"0px",paddingTop:"0px",paddingBottom:"0px"})},removeHeight(n){n.style.height="auto"},setContentHeight(n){const o=this.$el?this.$el.scrollHeight:0;Object.assign(n.style,{height:"".concat(o,"px"),paddingTop:null,paddingBottom:null})},onLeave(n){this.setContentHeight(n),this.zeroHeight(n)}}}}})})},887:function(m,p,_){"use strict";var u=function(){var f=this,d=f.$createElement,g=f._self._c||d;return g("div",f._l(f.addressFormatFilledInMultiLines,function(j){return g("div",{key:j},[g("span",{staticClass:"address-display"},[f._v(f._s(j))])])}),0)},h=[],O=_(284),r={name:"AddressDisplay",props:{address:{type:Object,required:!0},isMultiLine:{type:Boolean,default:!0},excludeCountry:{type:Boolean,default:!0}},computed:{countryCode(){return this.address.countryCode||this.address.country_code||"US"},options(){return this.excludeCountry?{excludeFields:["countryCode"]}:{}},addressFormatFilledInMultiLines(){return this.isMultiLine?Object(O.c)(this.address,this.countryCode,this.options):[Object(O.d)(this.address,this.countryCode,this.options)]}}},c=r,l=_(913),n=_(20),o=Object(n.a)(c,u,h,!1,null,"5c3724c8",null),b=p.a=o.exports},890:function(m,p,_){},913:function(m,p,_){"use strict";var u=_(890),h=_.n(u)}}]);

//# sourceMappingURL=dine-in-main.962eb6711c15e7d86329.js.map